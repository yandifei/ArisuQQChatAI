# <center>çˆ±ä¸½ä¸QQèŠå¤©AI</center>

[TOC]

ç”±äºGUIæ˜¯ä¸»è¿›ç¨‹ï¼Œè¿™å°±å¯¼è‡´äº†æˆ‘æ²¡æœ‰åŠæ³•å®ç°æŒ‰ä¸€ä¸ªæŒ‰é’®å°±èƒ½åˆ›å»ºè¿›ç¨‹æ± å¹¶åˆ†æ´¾ä»»åŠ¡ç›´æ¥ä½¿ç”¨

## å¼€å‘å®ˆåˆ™
### æƒé™ç³»ç»Ÿ
- **å› ä¸ºæ­¤é¡¹ç›®å¹¶ä¸æ˜¯æœ€å¥½çš„Botï¼ˆå®ƒçš„ä¸Šé™ç¡®å®æ‘†åœ¨é‚£é‡Œï¼Œæ‰€ä»¥è®¾ç½®â€œå®Œç¾â€çš„æƒé™ç³»ç»Ÿç¡®å®æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚ï¼‰**

1. å¯¹äºé€€å‡ºæŒ‡ä»¤å³ä½¿æ˜¯è¶…ç®¡ä¹Ÿå¿…é¡»è¦å¯†ç ï¼ˆåˆ«äººå¯ä»¥é€šè¿‡ä¿®æ”¹å’Œä½ ç›¸åŒçš„å¤‡æ³¨åè·å¾—å’Œä½ ç­‰åŒçš„æƒé™ï¼‰ã€‚

2. å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶æŠŠ`ç§»é™¤å±é™©æŒ‡ä»¤`çš„é€‰é¡¹æ‰“å¼€ï¼Œä»…åŠ è½½é™åˆ¶æŒ‡ä»¤ã€‚
   1. ç›¸æ¯”äºä¹‹å‰çš„æŒ‡ä»¤ç³»ç»Ÿï¼Œè¿™éƒ¨åˆ†æŒ‡ä»¤æ˜¯ç‹¬ç«‹åŠ è½½çš„ï¼Œä¹‹å‰æ˜¯å…¨éƒ¨åŠ è½½åé€šè¿‡æ£€æŸ¥æŒ‡ä»¤æ˜¯å¦åœ¨å±é™©æŒ‡ä»¤åˆ—è¡¨å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡ä½¿ç”¨æŒ‡ä»¤çš„æ—¶å€™éƒ½è¦æ£€æŸ¥æ˜¯å¦å¼€å¯äº†ç§»é™¤å±é™©æŒ‡ä»¤é™åˆ¶å’Œå»å±é™©æŒ‡ä»¤åˆ—è¡¨é‡Œé¢æŸ¥æ‰¾æ˜¯å¦ä¸ºå±é™©æŒ‡ä»¤ã€‚
   2. äº‹å®ä¸Šï¼Œ`å±é™©æŒ‡ä»¤`ä¹Ÿæ˜¯å®ƒåŠŸèƒ½å¤šæ ·æ€§çš„ä½“ç°ï¼Œç§»é™¤ç¡®å®å°‘äº†éå¸¸å®ç”¨çš„ç‰¹æ€§(å¦‚`äººè®¾åˆ‡æ¢`)ã€‚

#### æƒé™åˆ†çº§
- è¿™é‡Œå°†å¯¹ä»¥å¾€çš„æŒ‡ä»¤åšå‡ºæ›´æ”¹ï¼š`#å¼€å¯æƒé™éš”ç¦»`æ”¹ä¸º`#å¼€å¯æŒ‡ä»¤æƒé™é™åˆ¶`ã€`#å…³é—­æƒé™éš”ç¦»`æ”¹ä¸º`#å…³é—­æŒ‡ä»¤æƒé™é™åˆ¶`

**è¶…çº§ç®¡ç†å‘˜ï¼ˆrootï¼‰ï¼š** åªèƒ½æœ‰ä¸€ä¸ªï¼Œè‡ªå·±(è‡ªå·±åœ¨ç¾¤é‡Œçš„éæœºå™¨äººè´¦å·)æˆ–æœºå™¨äººè´¦å·
æƒé™åŠŸèƒ½ï¼šï¼ˆç®€å•äº†å½“å°±æ˜¯å¯ä»¥ä½¿ç”¨æ‰€æœ‰æŒ‡ä»¤ï¼Œä¸‹é¢åˆ—ä¸¾çš„ä¸ç”¨çœ‹äº†ï¼Œä½œè€…è‡ªå·±çœ‹çš„ã€‚ï¼‰
1. æ‹¥æœ‰ä½¿ç”¨`#é€€å‡º`æŒ‡ä»¤çš„æƒé™(é€€å‡ºæŒ‡ä»¤è¿˜éœ€è¦å¯†ç )ã€‚
2. æ‹¥æœ‰`#å¼€å¯æŒ‡ä»¤æƒé™é™åˆ¶`å’Œ`#å…³é—­æŒ‡ä»¤æƒé™é™åˆ¶`çš„åŠŸèƒ½ã€‚
3. å…¶ä»–æŒ‡ä»¤åŠŸèƒ½

</br>

**ç®¡ç†å‘˜(administrators)ï¼š** Qç¾¤çš„ç¾¤ä¸»å’ŒQç¾¤çš„ç®¡ç†å‘˜ï¼Œä¹‹å‰çš„åº”è¯¥æœ‰ä¸ªbugï¼šæ£€æµ‹ä¸åˆ°ç®¡ç†å‘˜æˆ–ç¾¤ä¸»æ— æ³•å½•å…¥å°±å´©æºƒï¼Œåœ¨è¿™é‡Œå°†è¿›è¡Œé‡å†™ä¿®å¤ã€‚
æƒé™åŠŸèƒ½ï¼šï¼ˆé™¤äº†é€€å‡ºæŒ‡ä»¤ä»¥å¤–çš„æ‰€æœ‰æŒ‡ä»¤ï¼‰
1. æ‹¥æœ‰`#å¼€å¯æŒ‡ä»¤æƒé™é™åˆ¶`å’Œ`#å…³é—­æŒ‡ä»¤æƒé™é™åˆ¶`çš„æŒ‡ä»¤ã€‚
2. é™¤äº†`#é€€å‡º`çš„å…¶ä»–æŒ‡ä»¤

**å…¶ä»–äºº(other)**ï¼šæ™®é€šç¾¤å‹
æƒé™åŠŸèƒ½ï¼šï¼ˆé™¤äº†é€€å‡ºæŒ‡ä»¤å’Œæƒé™éš”ç¦»æŒ‡ä»¤ä»¥å¤–çš„æ‰€æœ‰æŒ‡ä»¤ï¼‰
1. åŸºç¡€å¯¹è¯ã€‚
2. æ— é™åˆ¶æŒ‡ä»¤çš„è°ƒç”¨

### æŒ‡ä»¤ç³»ç»Ÿ
- ä¸ºäº†æ–¹ä¾¿ä¸Šæ‰‹ï¼Œè¿™é‡Œå…ˆåˆ’åˆ†ä¸ºæ— é™åˆ¶æŒ‡ä»¤å’Œé™åˆ¶æŒ‡ä»¤
é‡å†™æŒ‡ä»¤ç³»ç»Ÿå§ï¼Œç¡®å®çœ‹ç€éš¾çœ‹å’Œç³Ÿå¿ƒï¼Œå¯ä»¥ç”¨ä¸Šä¿¡å·å’Œæ§½çš„ç¼–ç¨‹æ€è·¯ã€‚
1. ä¹‹å‰`#è¯„åˆ†`æ˜¯é»˜è®¤50ï¼Œç°åœ¨å¿…é¡»é™„å¸¦å‚æ•°
2. `#è¾“å‡ºæ ¼å¼`æœ‰bugï¼Œåˆ‡æ¢ä¹‹åæ— æ³•ä¸”æ¢å›æ¥äº†
   1. åŸæœ¬çš„æ ¼å¼
        ```python
        if response_format == "text" or response_format == "json":
        self.response_format = {response_format}
        if out: print(f"å·²æŒ‡å®šæ¨¡å‹å¿…é¡»è¾“å‡ºçš„æ ¼å¼ä¸º{response_format}")
        return True
        if out: print(f"\033[91må‚æ•°æœ‰è¯¯ï¼ŒæŒ‡å®šæ¨¡å‹å¿…é¡»è¾“å‡ºçš„æ ¼å¼ä¸º\"text\"æˆ–\"json\"ï¼Œä¸å¯¹è¯¥å‚æ•°è¿›è¡Œä»»ä½•ä¿®æ”¹\033[0m")
        return False
        ```
    2. ä¿®å¤ä¼ å…¥æ ¼å¼å’Œæ„é€ é”™è¯¯
        ```python
            if response_format == "text" or response_format == "json_object":
        self.response_format = {"type": response_format}
        if out: print(f"å·²æŒ‡å®šæ¨¡å‹å¿…é¡»è¾“å‡ºçš„æ ¼å¼ä¸º{response_format}")
        return True
        if out: print(f"\033[91må‚æ•°æœ‰è¯¯ï¼ŒæŒ‡å®šæ¨¡å‹å¿…é¡»è¾“å‡ºçš„æ ¼å¼ä¸º\"text\"æˆ–\"json_object\"ï¼Œä¸å¯¹è¯¥å‚æ•°è¿›è¡Œä»»ä½•ä¿®æ”¹\033[0m")
        return False
        ```

#### æ‰€æœ‰æŒ‡ä»¤
1. å¸®åŠ©ä¹‹ç±»çš„æŒ‡ä»¤
    #å¸®åŠ©
    #æŒ‡ä»¤æŸ¥è¯¢
2. æƒé™ç®¡ç†æŒ‡ä»¤
    #è¶…ç®¡
    #æ‰€æœ‰ç®¡ç†å‘˜
    #å¼€å¯æŒ‡ä»¤æƒé™é™åˆ¶
    #å…³é—­æŒ‡ä»¤æƒé™é™åˆ¶
3. é¢å¤–æŒ‡ä»¤
    #jmï¼ˆä¸‹è½½ç¦æ¼«çš„æŒ‡ä»¤ï¼‰
4. ç‰¹æ®ŠæŒ‡ä»¤
    #å…¼å®¹
    #æµ‹è¯•æ¥å£
    #åˆå§‹åŒ–
5. å¯¹è¯å‚æ•°è°ƒèŠ‚æŒ‡ä»¤
    #æ¨¡å‹åˆ‡æ¢
    #V3æ¨¡å‹
    #R1æ¨¡å‹
    #è¯„åˆ†
    #æœ€å¤§tokenæ•°
    #è¾“å‡ºæ ¼å¼
    #æ•æ„Ÿè¯
    #åˆ é™¤æ•æ„Ÿè¯
    #æµå¼
    #éæµå¼
    #å¼€å¯è¯·æ±‚ç»Ÿè®¡
    #å…³é—­è¯·æ±‚ç»Ÿè®¡
    #æ¸©åº¦
    #æ ¸é‡‡æ ·
    #å·¥å…·åˆ—è¡¨
    #å·¥å…·å¼€å…³
    #å¼€å¯å¯¹æ•°æ¦‚ç‡è¾“å‡º
    #å…³é—­å¯¹æ•°æ¦‚ç‡è¾“å‡º
    #ä½ç½®è¾“å‡ºæ¦‚ç‡
6. FIMå¯¹è¯å‚æ•°æŒ‡ä»¤
    #FIMå¯¹è¯
    #FIMè¡¥å…¨å¼€å¤´
    #FIMå®Œæ•´è¾“å‡º
    #FIMå¯¹æ•°æ¦‚ç‡è¾“å‡º
    #FIMè¡¥å…¨åç¼€
7. ä¸Šä¸‹æ–‡å‚æ•°
    #æ€ç»´é“¾
    #å¯¹è¯è½®æ¬¡
    #èŠå¤©è®°å½•
    #æ¸…ç©ºå¯¹è¯å†å²
8. å¤šäººè®¾ç®¡ç†æŒ‡ä»¤
    #äººè®¾åˆ‡æ¢
    #æ‰€æœ‰äººè®¾
    #äººè®¾æŸ¥è¯¢
    #å½“å‰äººè®¾
    #äººè®¾è‡ªå®š
    #åˆ é™¤äººè®¾
9.  åœºæ™¯å…³é”®è¯è‡ªåŠ¨è°ƒæ§å‚æ•°æŒ‡ä»¤
    #ä»£ç 
    #æ•°å­¦
    #æ•°æ®
    #åˆ†æ
    #å¯¹è¯
    #ç¿»è¯‘
    #åˆ›ä½œ
    #å†™ä½œ
    #ä½œè¯—
10. ä½™é¢å’Œtokenæ•°æŸ¥è¯¢
    #ä½™é¢
    #token

#### æ— é™åˆ¶æŒ‡ä»¤å’Œé™åˆ¶æŒ‡ä»¤
##### æ— é™åˆ¶æŒ‡ä»¤
*å¸®åŠ©ä¹‹ç±»çš„æŒ‡ä»¤*
1. #å¸®åŠ©
2. #æŒ‡ä»¤æŸ¥è¯¢

*å¯¹è¯å‚æ•°è°ƒèŠ‚æŒ‡ä»¤*
1. #æ¨¡å‹åˆ‡æ¢
2. #V3æ¨¡å‹
3. #R1æ¨¡å‹
4. #è¯„åˆ†
5. #éæµå¼

*FIMå¯¹è¯å‚æ•°*
4. #FIMå¯¹æ•°æ¦‚ç‡è¾“å‡º
1. #FIMå¯¹è¯
2. #FIMè¡¥å…¨å¼€å¤´
3. #FIMå®Œæ•´è¾“å‡º
4. #FIMè¡¥å…¨åç¼€

*ä¸Šä¸‹æ–‡å‚æ•°*
1. #æ€ç»´é“¾
2. #æ¸…ç©ºå¯¹è¯å†å²

*åœºæ™¯å…³é”®è¯è‡ªåŠ¨è°ƒæ§å‚æ•°*
1. #ä»£ç 
2. #æ•°å­¦
3. #æ•°æ®
4. #åˆ†æ
5. #å¯¹è¯
6. #ç¿»è¯‘
7. #åˆ›ä½œ
8. #å†™ä½œ
9. #ä½œè¯—

*ä½™é¢å’Œtokenæ•°æŸ¥è¯¢*
1. #ä½™é¢
2. #token
##### é™åˆ¶æŒ‡ä»¤
*æƒé™ç®¡ç†æŒ‡ä»¤*
1. #è¶…ç®¡
2. #æ‰€æœ‰ç®¡ç†å‘˜
3. #å¼€å¯æŒ‡ä»¤æƒé™é™åˆ¶
4. #å…³é—­æŒ‡ä»¤æƒé™é™åˆ¶

*é¢å¤–æŒ‡ä»¤*
1. #jm

*ç‰¹æ®ŠæŒ‡ä»¤*
1. #å…¼å®¹
2. #æµ‹è¯•æ¥å£
3. #åˆå§‹åŒ–

1. #å¼€å¯è¯·æ±‚ç»Ÿè®¡
2. #å…³é—­è¯·æ±‚ç»Ÿè®¡
3. #æ¸©åº¦
4. #æ ¸é‡‡æ ·
5. #å·¥å…·åˆ—è¡¨
6. #å·¥å…·å¼€å…³
7. #å¼€å¯å¯¹æ•°æ¦‚ç‡è¾“å‡º
8. #å…³é—­å¯¹æ•°æ¦‚ç‡è¾“å‡º
9. #ä½ç½®è¾“å‡ºæ¦‚ç‡

*FIMå¯¹è¯å‚æ•°*
1. #FIMå¯¹æ•°æ¦‚ç‡è¾“å‡º

*ä¸Šä¸‹æ–‡å‚æ•°*
1. #å¯¹è¯è½®æ¬¡
2. #èŠå¤©è®°å½•

*äººè®¾æŒ‡ä»¤*
1. #äººè®¾åˆ‡æ¢
2. #æ‰€æœ‰äººè®¾
3. #äººè®¾æŸ¥è¯¢
4. #å½“å‰äººè®¾
5. #äººè®¾è‡ªå®š
6. #åˆ é™¤äººè®¾
#### æŒ‡ä»¤æ‰§è¡Œé€»è¾‘
1. è°ƒç”¨`split_respond_msg`è§£ææˆªè·çš„æ–‡æœ¬ï¼Œç®€å•å¤„ç†ä¹‹åæ‹¿åˆ°æœ€æ ¸å¿ƒçš„æ¶ˆæ¯(msg:å»æ‰@ã€äººåã€æ—¶é—´)ã€‚
2. åˆ¤æ–­æ ¸å¿ƒæ¶ˆæ¯æ˜¯å¦ä¸ºç©º(ç®€å•å¤„ç†åå¯ä»¥æ¶ˆæ¯ä¸ºç©ºï¼Œæ¯”å¦‚ä»…ä»…@ä½ )->åˆ¤æ–­æ¶ˆæ¯çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸º`#`->åˆ¤æ–­æ¶ˆæ¯æ˜¯å¦å¤§äº2ä¸ªå­—ç¬¦(`#`åé¢å¯èƒ½ä»€ä¹ˆéƒ½æ²¡æœ‰)
3. æŠŠæ ¸å¿ƒæ¶ˆæ¯(`#æ–‡æœ¬`)æ”¾åˆ°æŒ‡ä»¤æ˜ å°„é‡Œé¢è¿›è¡ŒæŸ¥æ‰¾ï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨è¯¥æŒ‡ä»¤ã€‚æŸäº›æŒ‡ä»¤éœ€è¦ç‰¹å®šçš„å‚æ•°ï¼Œæ‰€ä»¥åœ¨æ‰§è¡ŒæŒ‡ä»¤çš„æ—¶å€™ä¼šç”¨å¼‚å¸¸æ•è·å‘Šè¯‰è°ƒç”¨è€…ç¼ºå°‘å‚æ•°
4. æ ¹æ®å­—å…¸è¿›è¡Œåˆ¤æ–­å‡½æ•°æ˜¯å¦æ‰§è¡ŒæˆåŠŸï¼Œæ‰§è¡ŒæˆåŠŸæ‹¿å¾—åˆ°`bool`ç±»å‹çš„è¿”å›å€¼
5. æ ¹æ®è¿”å›å€¼æ‹¿åˆ°æ‰§è¡ŒæˆåŠŸå‘é€çš„æ¶ˆæ¯æˆ–æ‰§è¡Œå¤±è´¥å‘é€çš„æ¶ˆæ¯ï¼Œéœ€è¦ç‰¹åˆ«*æ³¨æ„*çš„æ˜¯*æ‰§è¡ŒæˆåŠŸ/å¤±è´¥å‘é€çš„æ¶ˆæ¯*è¿™ä¸ªæ¶ˆæ¯æœ¬èº«å¯èƒ½å°±æ˜¯ä¸€ä¸ªæ–¹æ³•æˆ–å‡½æ•°(ææœ‰å¯èƒ½ä¸ºåŒ¿åå‡½æ•°)
6. å¦‚æœè¿”å›æ¶ˆæ¯æ˜¯ä¸€ä¸ªæ–¹æ³•æˆ–å‡½æ•°(ææœ‰å¯èƒ½ä¸ºåŒ¿åå‡½æ•°)åˆ™æ‰§è¡Œè¿™ä¸ªæ–¹æ³•æˆ–å‡½æ•°æ‹¿åˆ°è¿”å›å€¼ç›´æ¥å‘é€ã€‚

### é‡å†™ç”¨æˆ·é…ç½®ç³»ç»Ÿ
#### åŸæ¥çš„é…ç½®æ–‡ä»¶
é…ç½®æ–‡ä»¶åï¼š`UserSettings.ini`
[è¯´æ˜æ–‡æ¡£] [è½¯ä»¶å£°æ˜]ã€[è¯´æ˜æ–‡æ¡£]ã€[é¡¹ç›®ä¿¡æ¯] å†…å®¹ã€‚
#### æ–°çš„é…ç½®æ–‡ä»¶
- ä½¿ç”¨åˆ†ç±»å¯¹é…ç½®æ–‡ä»¶è¿›è¡Œç®¡ç†ä¹Ÿæ–¹ä¾¿ç”¨æˆ·å’Œå¼€å‘è€…è¿›è¡Œä¿®æ”¹
1. ç»‘å®šé…ç½®ï¼š`Bind.ini`
2. å…¨å±€çƒ­é”®é…ç½®ï¼š`Hotkey.ini`
3. ç”¨æˆ·é…ç½®ï¼š`UserSettings.ini`

##### ç»‘å®šé…ç½®ï¼š`Bind.ini`
æ”¾ç½®ç¾¤èŠç»‘å®šçš„ä¿¡æ¯ï¼Œå› ä¸ºä¸­æ§ä¸æ­¢ä¸€ä¸ªQç¾¤ï¼Œæ‰€æœ‰å¯ä»¥æ˜¯å¤šä¸ªã€‚
```ini
[qq_group_name]         # QQç¾¤å
# å¡«æœºå™¨äººåœ¨ç¾¤é‡Œçš„åï¼ˆä¼˜å…ˆç¾¤é‡Œé¢æœºå™¨äººè´¦å·çš„å¤‡æ³¨åï¼‰
bot_name = æœºå™¨äººå
# æœ€é«˜æƒé™è€…ï¼Œåªèƒ½æœ‰ä¸€ä¸ª
root = æœ€é«˜æƒé™è€…
# é€€å‡ºæŒ‡ä»¤çš„å¯†ç 
exit_password = é€€å‡ºæŒ‡ä»¤çš„å¯†ç   
# åˆå§‹äººè®¾
init_role = çˆ±ä¸½ä¸
# Qç¾¤çª—å£çš„ä½ç½®
qq_group_location = 0,0
# ç§»é™¤å±é™©çš„æŒ‡ä»¤
remove_dangerous_order = False
```
##### å…¨å±€çƒ­é”®é…ç½®ï¼š`Hotkey.ini`
æ”¾ç½®å…¨å±€çƒ­é”®(ä¸æ˜¯å¿«æ·é”®)ï¼Œå³ä½¿ç¨‹åºæ²¡æœ‰ç„¦ç‚¹åœ¨åå°ä¹Ÿèƒ½ç”¨ã€‚
```ini
[è¿è¡Œå’Œåœæ­¢]
# è¿è¡Œç¨‹åºç›‘å¬å›å¤
running = F10
# åœæ­¢ç¨‹åºç›‘å¬å›å¤
stop = F12

[åŠ¨æ€ä¸»é¡µ]
# å¼€å¯ä¸»é¡µåŠ¨æ€å£çº¸ï¼ˆä¸ºäº†çœ‹å¥³å„¿ï¼‰
running = F7
# å…³é—­ä¸»é¡µåŠ¨æ€å£çº¸ï¼ˆå‡å°‘èµ„æºæŸè€—ï¼‰
stop = F8
```

##### ç”¨æˆ·é…ç½®ï¼š`UserSettings.ini`
æ”¾ç½®è½¯ä»¶æœ¬ä½“çš„ç”¨æˆ·è®¾ç½®ï¼ˆä¸åŒ…æ‹¬çƒ­é”®å’ŒQç¾¤ç»‘å®šä¿¡æ¯ï¼‰
```ini
[åˆå§‹ç•Œé¢]
# åˆå§‹ç•Œé¢çš„çª—å£ä¸‹æ ‡
init_index = 1

[ç”¨æˆ·ç•Œé¢ä½ç½®]      # ä¿å­˜ç”¨æˆ·è®¾ç½®çš„ç•Œé¢ä½ç½®
ä¸»é¡µ = 0
çŠ¶æ€ç›‘æµ‹ = 1
çƒ­é”® = 2
é—®é¢˜é“¾æ¥ = 3
ç”¨æˆ·è®¾ç½® = 4

[åŸå§‹ç•Œé¢ä½ç½®]      # æ”¾ç½®æœ€å¼€å§‹ç•Œé¢ä½ç½®
ä¸»é¡µ = 0
çŠ¶æ€ç›‘æµ‹ = 1
çƒ­é”® = 2
é—®é¢˜é“¾æ¥ = 3
ç”¨æˆ·è®¾ç½® = 4
```

### å¯†é’¥æ¥æ”¶å’Œå®‰å…¨å¤„ç†
#### ä¹‹å‰çš„æ–¹æ¡ˆï¼š
- å»¶ç»­OpenAIå’Œå¼€å‘æ‰‹å†Œçš„å»ºè®®ï¼Œå°†APIå¯†é’¥æ”¾å…¥ç¯å¢ƒå˜é‡ä¸­
- æµ‹è¯•å¯†é’¥æœ‰æ•ˆæ€§
- æ‰‹åŠ¨å°†å¯†é’¥æ³¨å…¥ç”¨æˆ·ç¯å¢ƒå˜é‡

1. ç”¨æˆ·è®¾ç½®ç•Œé¢æœ‰æä¾›å¯†é’¥è¾“å…¥çš„æ§ä»¶
2. æ£€æµ‹å¯†é’¥æ˜¯å¦æœ‰æ•ˆ(éƒ¨åˆ†å…³é”®ä»£ç ï¼Œè¯·æ±‚å¤´æˆ‘éƒ½æ‡’å¾—å†™äº†)
```python
    response = requests.get(
                "https://api.deepseek.com/user/balance",  # è¯·æ±‚ç½‘å€
                headers={"Authorization": f"Bearer {self.APIKeyInput.text()}"},  # è¯·æ±‚å¤´(ä»æ–‡æœ¬æ§ä»¶é‡Œé¢æ‹¿åˆ°key)
                timeout = 5  # æ·»åŠ è¶…æ—¶è®¾ç½®ï¼Œé˜²æ­¢å¡æ­»
            )
    if response.status_code != 200:  # æ£€æŸ¥å“åº”çŠ¶æ€ç 
        print("APIå¯†é’¥æ— æ•ˆæˆ–æœªæˆæƒï¼Œæ£€æŸ¥å¯†é’¥æ˜¯å¦æ­£ç¡®æˆ–é‡å¯pythonè¿›ç¨‹")
    else:
        print("APIå¯†é’¥æœ‰æ•ˆï¼ŒæŠŠå¯†é’¥æ³¨å…¥ç”¨æˆ·ç¯å¢ƒå˜é‡")
```
3. æ‰‹åŠ¨å°†å¯†é’¥æ³¨å…¥ç”¨æˆ·ç¯å¢ƒå˜é‡ä¸­

##### ä¸è€ƒè™‘`dotenv`åŸå› 
`from dotenv import load_dotenv`ç¡®å®èƒ½å®ç°ç³»ç»Ÿå˜é‡çš„æ•ˆæœã€‚
1. æˆ‘git pushåå°±ä¼šç›´æ¥æŠŠæˆ‘çš„å¯†é’¥æš´éœ²å‡ºå»(.gitignoreå¯ä»¥è§£å†³)
2. å¦‚æœç›´æ¥æŠŠæ•´ä¸ªè½¯ä»¶å‹ç¼©æ‰“åŒ…ç»™åˆ«äººï¼Œé‚£åˆ«äººå°±å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªå¯†é’¥äº†
3. è€ƒè™‘åˆ°è‡ªå·±æ˜¯ç”Ÿäº§ç¯å¢ƒä»¥åŠæ‰“åŒ…åˆ†å‘çš„é—®é¢˜å°±æ²¡è€ƒè™‘è¿™ä¸ªåº“äº†ã€‚

#### ç°åœ¨çš„æ–¹æ¡ˆ
- é›¶æ–‡ä»¶å­˜å‚¨ï¼šæŠŠå¯†é’¥äº¤ç»™ç”±æ“ä½œç³»ç»Ÿæ‰˜ç®¡ï¼ˆWindows Credential Manager/macOS Keychain/Linux Secret Serviceï¼‰
- è‡ªåŠ¨åŠ å¯†ï¼šç³»ç»Ÿçº§AESåŠ å¯†ä¿æŠ¤å­˜å‚¨å†…å®¹
- ç”¨æˆ·éš”ç¦»ï¼šä¸åŒæ“ä½œç³»ç»Ÿç”¨æˆ·æ— æ³•äº’ç›¸è®¿é—®å¯†é’¥

ç›¸æ¯”ä¹‹å‰ï¼š
1. ä¸ç”¨æ‹…å¿ƒ`git push`ä¼šæŠŠå¯†é’¥æš´æ¼
2. ç¡®å®åšåˆ°äº†ç”Ÿäº§ç¯å¢ƒçš„éš”ç¦»å’Œä¸ç”¨æ‹…å¿§ç”¨æˆ·è‡ªå·±æ‰“åŒ…åˆ†å‘ä¼šæ³„éœ²
3. é¿å…æŸäº›ç³»ç»Ÿè¿›ç¨‹è¯»å–ç¯å¢ƒå˜é‡å¹¶æŠŠæ˜æ–‡çš„å¯†é’¥è®°å½•åˆ°æ—¥å¿—ä¸­ç›´æ¥æš´æ¼
4. ç¼ºç‚¹ï¼šéœ€è¦é€šè¿‡æŒ‡ä»¤ä»£ç å»åˆ é™¤è¿™ä¸ªå¯†é’¥

å½“éœ€è¦æ›´æ–°å¯†é’¥æ—¶ï¼Œç›´æ¥è¦†ç›– `keyring.set_password("DEEPSEEK_API_KEY", "çˆ±ä¸½ä¸", "å¯†é’¥")` ã€‚ä¸éœ€è¦è¿›è¡Œåˆ é™¤åå†æ·»åŠ ï¼Œå› ä¸ºè¿™æ˜¯åŸå­æ“ä½œå‡å°‘ä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨

#### å¯†é’¥æŸ¥çœ‹
1. æ‰“å¼€ æ§åˆ¶é¢æ¿-> ç”¨æˆ·è´¦æˆ· > å‡­è¯ç®¡ç†å™¨
2. é€‰æ‹© Windowså‡­æ®
3. æŸ¥æ‰¾"æ™®é€šå‡­æ®"ä¸­çš„ DEEPSEEK_API_KEY/çˆ±ä¸½ä¸
4. ç‚¹å‡»æ˜¾ç¤ºå¯†ç ï¼ˆå¦‚æœç”µè„‘è®¾ç½®å¯†ç éœ€è¦è¾“å…¥ç”µè„‘çš„ç§˜å¯†æ‰èƒ½æŸ¥çœ‹ï¼‰


### QQè‡ªåŠ¨å›å¤é‡å†™
è‡ªåŠ¨å›å¤é¡¹ç›®å»¶ç”¨:https://github.com/yandifei/DeepseekConversationEngine/tree/main/%E8%B0%83%E7%94%A8%E7%A4%BA%E4%BE%8B/QQ%E6%9C%BA%E5%99%A8%E4%BA%BA

æ ¹æœ¬æ ¸å¿ƒï¼šQQMessageMonitorè¿™ä¸ªç±»

è¿™å›æŠŠæ ¸å¿ƒç»™æç‚¼å‡ºæ¥å¹¶åšä¼˜åŒ–
å¢åŠ jmçš„åŠŸèƒ½

è€ƒè™‘åˆ°è¯¥ç¨‹åºä¸»è¦æ˜¯CPUè®¡ç®—ï¼Œæ‰€ä»¥è¿›ç¨‹æ± å°±ä¸èƒ½å¡«æ»¡ï¼Œå¡«æ»¡è¿˜æœ‰å¯èƒ½å¼•èµ·èµ„æºäº‰æŠ¢å¯¼è‡´æ€§èƒ½ä¸‹é™.(é€»è¾‘æ ¸å¿ƒæ•°)

æ ¹æ®ç”µè„‘çŠ¶å†µæ¥åˆ†é…é€»è¾‘æ ¸å¿ƒæ•°èµ„æºï¼Œé»˜è®¤æ˜¯é€šè¿‡è®¡ç®—æ¥è·å–æ ¸å¿ƒæ•°å¹¶è¿›è¡Œåˆç†åˆ†é…

å¦‚æœæ— æ³•è·å–æ ¸å¿ƒæ•°åˆ™é»˜è®¤ä¸º4æ ¸å¿ƒæ•°ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥è‡ªè¡Œä¿®æ”¹ã€‚è€ƒè™‘åˆ°æ˜¯åœ¨winå¹³å°ä»¥åŠç°åœ¨CPUéƒ½æœ‰è¶…çº¿ç¨‹è®¡ç®—è¿™é‡Œå°±æ˜¯ä½¿ç”¨ä»¥ä¸‹è®¡ç®—
```python
if psutil.cpu_count(False) and psutil.cpu_count(True):   # èƒ½è·å–åˆ°CPUæ ¸å¿ƒæ•°æ‰æ‰§è¡Œæœ€ä½³è®¡ç®—
    physical_cores = psutil.cpu_count(False)                # ç‰©ç†æ ¸å¿ƒæ•°
    logical_cores = psutil.cpu_count(True)                  # é€»è¾‘æ ¸å¿ƒæ•°
    use_cores = min(int(physical_cores * 1.5), logical_cores)   # ä½¿ç”¨æ ¸å¿ƒæ•°
# è¾“å…¥å¯ä½¿ç”¨çš„é€»è¾‘æ ¸å¿ƒæ•°ï¼Œé»˜è®¤é€šè¿‡ç¼–ç¨‹è®¡ç®—ã€‚ç‰©ç†æ ¸å¿ƒæ•°ä¹˜ä¸Š1.5åå»æ‰å°æ•°ç‚¹ï¼Œå¦‚è¿‡è¿™ä¸ªå€¼è¶…è¿‡æœ€å¤§é€»è¾‘æ ¸å¿ƒæ•°å°±ä½¿ç”¨æœ€å¤§é€»è¾‘æ ¸å¿ƒæ•°ã€‚
```

ç›¸æ¯”ä¹‹å‰ï¼Œé‡å¼€åå¯¹äº`ask`å¤±è´¥ä¼šæœ‰ç›´æ¥çš„è¿”å›å€¼ï¼Œå¦‚æœ`aks`ä¸­å‡ºç°äº†é—®é¢˜ï¼Œæ¯”å¦‚å¯†é’¥å¤±æ•ˆç­‰ä¸­é€”å‡ºç°çš„é—®é¢˜ä¹Ÿèƒ½ç›´æ¥å‘é€å‡ºæ¥åˆ°QQé‡Œé¢ï¼Œä¹‹å‰æ˜¯åªä¼šæ˜¾ç¤ºåœ¨æ§åˆ¶å°ä¸Šçš„ã€‚å¹¶ä¸”ä¼šæŠŠè¿™æ¬¡çš„å¤±è´¥è®°å½•ç»™AIï¼Œç¡®ä¿AIçŸ¥é“åˆšæ‰è¯·æ±‚å‡ºç°äº†é”™è¯¯ã€‚
```python
try:
    pass    # å…·ä½“çš„è¿‡ç¨‹
    # æŠŠè¿™æ¬¡é”™è¯¯æ·»åŠ AIçš„å›ç­”å†å²ï¼ˆåŒ…æ‹¬æµå¼å’Œéæµå¼çš„ï¼‰
 except OpenAIError as Error:
    if status_code == 400:
        assistant_content =  "è¯·æ±‚ä½“æ ¼å¼é”™è¯¯ï¼Œè¯·æ ¹æ®é”™è¯¯ä¿¡æ¯æç¤ºä¿®æ”¹è¯·æ±‚ä½“"
    else:
        pass
        #...çœç•¥é”™è¯¯åˆ¤æ–­è¿‡ç¨‹
    assistant_content = "æ­¤æ¬¡è¯·æ±‚è¿‡ç¨‹ä¸­å‘ç”Ÿä¸¥é‡é”™è¯¯:" + assistant_content   # æ ¸å¿ƒä»£ç 
    self.dialog_history.append({"role": "assistant", "content": assistant_content})
    return assistant_content  # è°ƒç”¨å¤±è´¥è¿”å›å¤±è´¥ä¿¡æ¯
```

`SendKeys`çš„æ–¹æ³•æœ‰æ¼æ´ï¼Œä¸è®¾ç½®å‚æ•°`charMode=True `å®ƒä¸èƒ½ç›´æ¥è¿›è¡Œçº¯æ–‡æœ¬è¾“å‡ºï¼Œä¸ç„¶å°±ä¼šå‡ºé—®é¢˜ï¼Œå¯ä»¥è½¬å‘æ–‡æœ¬çš„æ—¶å€™å‡ºç°è¢«æ³¨å…¥çš„æƒ…å†µã€‚
**å†æ¬¡ç»è¿‡å¤šæ¬¡å®è·µ**æœ€ç»ˆå‘ç°QQç¡®å®åªæ‹¦æˆªcvæ¥å®Œæˆç²˜è´´æ–‡æœ¬

è‰¯å¥½æ–¹æ¡ˆ1
```python
"""å½“å‰æœ€å¥½çš„æ–¹æ¡ˆï¼ˆèƒ½æ£€æµ‹å…‰æ ‡ï¼ˆç„¦ç‚¹æ˜¯å¦åœ¨QQçª—å£ä¸Šè€Œä¸æ˜¯å…¶ä»–çª—å£ä¸Šï¼Œå…¶ä»–çª—å£ä¼šå‡ºå‡ºç°å¼‚å¸¸ï¼‰ï¼‰
# æ¿€æ´»çª—å£åˆ°å‰å°
win32gui.SetForegroundWindow(self.hwnd)
# å…ˆå‘é€ WM_ACTIVATE æ¿€æ´»çª—å£å†å‘é€ WA_CLICKACTIVE é¼ æ ‡æ¿€æ´»
# win32api.SendMessage(self.hwnd, win32con.WM_ACTIVATE, win32con.WA_CLICKACTIVE,0)
# ç­‰å¾…æ¿€æ´»
sleep(0.1)
self.edit_box.SendKeys(text, 0, 0.01,charMode=False)
"""
```
æ–¹æ¡ˆ2
```python
"""åå°æ¨¡æ‹ŸCtrl+VæŒ‰é”®"""
win32api.keybd_event(win32con.VK_CONTROL, 0, 0, 0)                  # æŒ‰ä¸‹Ctrl
win32api.keybd_event(ord('V'), 0, 0, 0)                             # æŒ‰ä¸‹V
win32api.keybd_event(ord('V'), 0, win32con.KEYEVENTF_KEYUP, 0)              # é‡Šæ”¾V
win32api.keybd_event(win32con.VK_CONTROL, 0, win32con.KEYEVENTF_KEYUP, 0)   # é‡Šæ”¾Ctrl
```


### èµ„æºå›æ”¶é—®é¢˜
1. è§†é¢‘èµ„æºåŠ è½½æ˜¯ä»ç¼–è¯‘å¥½çš„pyæ–‡ä»¶é‡Œè¯»å–çš„ï¼ˆrccè½¬æ¢ï¼‰ï¼Œè§†é¢‘æ˜¯å…ˆåŠ è½½åˆ°tempç›®å½•é‡Œé¢çš„æ‰å¾ªç¯è¿›è¡Œæ’­æ”¾çš„ï¼ŒPyCharmçš„åœæ­¢è¿è¡ŒæŒ‰é’®å°±ä¼šæ— æ³•å›æ”¶èµ„æºå¯¼è‡´tempæ–‡ä»¶å¤¹äº§ç”Ÿæ²¡æœ‰çš„MP4æ–‡ä»¶å ç”¨ç¡¬ç›˜èµ„æºã€‚win+Rè¾“å…¥%temp%ç›´æ¥åˆ°è¾¾ç¼“å­˜æ–‡ä»¶å¤¹ã€‚
   1. å®é™…æµ‹è¯•ä» ç³»ç»Ÿç®¡ç†å™¨ å¼ºåˆ¶ç»ˆæ­¢ã€ alt + F4 å¼ºåˆ¶å…³é—­çª—å£ æˆ– ç•Œé¢å¡æ­»è¢«é€€å‡ºè§†é¢‘èµ„æºè¿˜æ˜¯å›æ”¶äº†ã€‚
   2. æ²¡æœ‰æµ‹è¯•å¼ºåˆ¶å…³æœºæˆ–æ–­ç”µä¼šä¸ä¼šæœ‰é—®é¢˜ã€‚
   3. å°½ç®¡æ²¡æœ‰çœ‹åˆ°èµ„æºæ³„éœ²çš„é—®é¢˜ï¼Œä½†æ˜¯é’ˆå¯¹PyCharmå¼ºåˆ¶ç»ˆæ­¢è¿è¡Œå¯¼è‡´çš„èµ„æºæ³„éœ²è¿˜æ˜¯åšä¸€ä¸ªé¢å¤–çš„å›æ”¶å¤„ç†(é‡æ–°è¿è¡Œå’Œåœæ­¢è¿è¡Œ)
   4. æ–‡ä»¶åï¼š`python.jOTqQx.mp4` `python.kSzSRN.mp4` `python.lsHgYY.mp4` `python.qrYDAf.mp4` `python.RpBOqm.mp4`ï¼Œéƒ½æœ‰è§„å¾‹ï¼Œä¸Šä¸ªæ­£åˆ™å°±OKäº†ã€‚
2. å› ä¸ºå¯†é’¥æ˜¯æ‰˜ç®¡ç»™winå¹³å°ï¼Œæ‰€ä»¥éœ€è¦å¸è½½æˆ–ä¸é€‚ç”¨å¯†é’¥çš„æ—¶å€™éœ€è¦ä½¿ç”¨ä»£ç å»æ¸…é™¤å¯†é’¥



### å¸è½½æµç¨‹
- åˆ é™¤äº¤ç»™ç³»ç»Ÿæ‰˜ç®¡çš„å¯†é’¥ï¼ˆæ–½å·¥å®Œæ¯•ï¼‰
- å°è¯•åˆ é™¤tempç›®å½•çš„è§†é¢‘èµ„æºæ–‡ä»¶
- åˆ é™¤æœ¬ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶
- è§£é™¤çƒ­é”®æ³¨å†Œï¼ˆè¿˜æ²¡æ–½å·¥ï¼‰
é™¤äº†ç¬¬ä¸€ç‚¹ï¼Œå…¶ä»–éƒ½åœ¨æ–½å·¥

#### å¯†é’¥å›æ”¶
**æ ¸å¿ƒä»£ç ï¼š**
```python
# å›æ”¶å¯†é’¥(éœ€è¦å…ˆåˆ¤æ–­å¯†é’¥æ˜¯å¦å­˜åœ¨)
if keyring.get_password(è‡ªå·±å»ä»£ç çœ‹):
    keyring.delete_password(è‡ªå·±å»ä»£ç çœ‹)
```

#### å›æ”¶åœ¨tempçš„æ–‡ä»¶
å¯¹äºç”¨æˆ·è€Œè¨€ï¼Œè¿™é‡Œæ„Ÿè§‰å…¶å®æ˜¯å¤šä½™çš„æ‹…å¿ƒã€‚æ­£å¸¸çš„ä½¿ç”¨ç¡®å®ä¸ä¼šç…§æˆæ³„éœ²ï¼Œåªæœ‰å¼€å‘è€…æ‰ä¼šã€‚ä½†æ˜¯å³ä½¿å¦‚æ­¤æˆ‘è¿˜æ˜¯å†™äº†è¿™ä¸ªåŠŸèƒ½ï¼Œä¸»æ‰“ä¸€ä¸ªä¸å¸¦ç—•è¿¹çš„æ¸…é™¤è‡ªå·±ã€‚

**é«˜æ€§èƒ½åˆ é™¤æ³„éœ²çš„è§†é¢‘èµ„æºæ–‡ä»¶**
```python
def clear_temp():
    """åˆ é™¤æ®‹ç•™åœ¨tempæ–‡ä»¶çš„MP4åŠ¨æ€å£çº¸æ–‡ä»¶
    è¿”å›å€¼ï¼šå¦‚æœæˆåŠŸåˆ é™¤æ‰€æœ‰æ‰¾åˆ°çš„ç¼“å­˜æ–‡ä»¶å°±è¿”å›True
    å¦åˆ™è¿”å›Falseï¼ˆå¯èƒ½æ–‡ä»¶è¢«æ­£åœ¨ä½¿ç”¨æˆ–è¢«æ·»åŠ äº†åªè¯»æ— æ³•åˆ é™¤çš„æƒé™ç­‰ï¼‰
    """
    # é€šè¿‡ç¯å¢ƒå˜é‡è·å–Windowsä¸´æ—¶æ–‡ä»¶å¤¹è·¯å¾„
    temp_directory = os.environ.get("TEMP") or os.environ.get("TMP")

    # æ„å»ºåŒ¹é…è§„åˆ™(python.6ä¸ªå­—æ¯.mp4),re.Iä¸ºè¾¹ç•Œæ§åˆ¶ï¼Œä½¿ç”¨åèƒ½ä»4.8mså˜ä¸º2.9ms
    match_rule = re.compile(r"^python\.[a-zA-Z]{6}\.mp4$",re.I)

    # éå†tempæ–‡ä»¶å¤¹çš„æ‰€æœ‰ç¬¦åˆåŒ¹é…è§„åˆ™çš„æ–‡ä»¶ï¼ŒæŠŠç¬¦åˆçš„æ–‡ä»¶åæ„é€ æˆåˆ—è¡¨
    delete_files = [file_name for file_name in os.listdir(path=temp_directory) if re.search(match_rule, file_name)]

    flag = True # æˆåŠŸå¸è½½æ‰€æœ‰æ³„éœ²æ–‡ä»¶çš„æ ‡å¿—ä½
    # å¼€å§‹åˆ é™¤æ³„éœ²çš„æ–‡ä»¶
    for file_name in delete_files:  # éå†éœ€è¦åˆ é™¤çš„æ–‡ä»¶å
        try:
            # æ–‡ä»¶ç»å¯¹è·¯å¾„æ‹¼æ¥åè¿›è¡Œåˆ é™¤
            os.remove(os.path.join(temp_directory, file_name))
            info(f"æˆåŠŸåˆ é™¤:{file_name}")
        except(OSError,FileNotFoundError):
            exception("ç¼“å­˜æ–‡ä»¶(åŠ¨æ€å£çº¸MP4æ–‡ä»¶)åˆ é™¤å¤±è´¥ï¼Œä»¥ä¸‹æ˜¯é”™è¯¯ä¿¡æ¯:\n")

    return True if flag else False
```
**ä½¿ç”¨è¿‡ç¨‹ä¸­éœ€è¦å…ˆé”€æ¯è§†é¢‘å¯¹è±¡**ï¼Œé¿å…å‡ºå‡ºç°è§†é¢‘æ­£åœ¨è¢«ä½¿ç”¨æ— æ³•åˆ é™¤ã€‚
ç¨³å®šé‡Šæ”¾æ­£åœ¨ä½¿ç”¨è§†é¢‘èµ„æºçš„æ–¹æ¡ˆï¼š
```python
# å›æ”¶åœ¨tempç›®å½•ä¸‹çš„è§†é¢‘èµ„æº
# self.video_player.stop()                # åœæ­¢æ’­æ”¾
# self.video_player.setVideoOutput(None)  # æ–­å¼€è§†é¢‘è¾“å‡º
self.DynamicBackground.deleteLater()    # åˆ é™¤æ’­æ”¾çš„çª—å£
self.video_player.deleteLater()         # åˆ é™¤è§†é¢‘æ’­æ”¾å¯¹è±¡
# self.video_player = None  # æ¸…é™¤è§†é¢‘æ’­æ”¾å¯¹è±¡çš„å¼•ç”¨
# self.DynamicBackground = None  # æ¸…é™¤è§†é¢‘æ’­æ”¾çª—å£å¯¹è±¡çš„å¼•ç”¨
```
æ ¸å¿ƒä»£ç ï¼š`self.video_player.deleteLater()`
ç›´æ¥æŠŠæ’­æ”¾å¯¹è±¡é”€æ¯å°±è¡Œï¼Œä»¥ä¸‹æ˜¯æ’­æ”¾ä»£ç ï¼ˆè§£æäº†`video_player`æœ¬è´¨ï¼‰
```python
# åŠ¨æ€å£çº¸
self.video_player = QMediaPlayer(self)  # åˆ›å»ºå¤šåª’ä½“æ’­æ”¾å™¨
self.video_player.setVideoOutput(self.DynamicBackground)  # å¤šåª’ä½“æ’­æ”¾å™¨è®¾ç½®çª—å£æ¥è§†é¢‘è¾“å‡º
self.video_player.setSource(QUrl("qrc:/èƒŒæ™¯/èƒŒæ™¯/åŠ¨æ€è§†é¢‘.mp4"))  # è®¾ç½®æ’­æ”¾èµ„æºï¼ŒfromLocalFileå¤„ç†è·¯å¾„é—®é¢˜
self.DynamicBackground.setAspectRatioMode(Qt.AspectRatioMode.KeepAspectRatioByExpanding)  # ä¿æŒå®½é«˜æ¯”å¹¶å¡«å……æ•´ä¸ªæ§ä»¶
self.video_player.setLoops(QMediaPlayer.Loops.Infinite)  # å¾ªç¯æ— é™æ¬¡æ•°
self.video_player.play()  # å¼€å§‹æ’­æ”¾
```
**å»¶è¿Ÿå›æ”¶æ³„éœ²çš„MP4èµ„æºçš„ä»£ç ï¼š**
```python
# å»¶è¿Ÿåˆ é™¤æ–‡ä»¶ï¼ˆç¡®ä¿èµ„æºå®Œå…¨é‡Šæ”¾ï¼‰
QTimer.singleShot(1000, self.safe_clear_temp)  # å»¶è¿Ÿ1ç§’
```
### çŠ¶æ€æ£€æµ‹ç•Œé¢
#### çŠ¶æ€è¾“å‡º
#### Qç¾¤ç»‘å®š
æ·»åŠ Qç¾¤è¿›è¡Œç»‘å®šæ—¶å¿…è¦çš„å‚æ•°
1. Qç¾¤å
2. æœºå™¨äººå
3. æœ€é«˜æƒé™è€…
4. é€€å‡ºæŒ‡ä»¤çš„å¯†ç 
5. æ˜¯å¦ç§»é™¤é»˜è®¤å±é™©æŒ‡ä»¤ï¼ˆé»˜è®¤å¦ï¼‰

åˆå§‹äººè®¾å¯ä»¥ä¸å¡«ï¼Œä¸å¡«å°±æ˜¯æ²¡æœ‰äººè®¾ã€‚

Qç¾¤ä½ç½®ä¸å¡«å°±æ˜¯å·¦ä¸Šè§’ï¼ˆåæœŸå¯ä»¥å†™ä¸€ä¸ªç®—æ³•è¿›è¡Œè‡ªåŠ¨åŒ¹é…ä½ç½®æ¥è¿›è¡Œä¼˜åŒ–ï¼‰

QListWidgetå¼„æ¸…åˆ é™¤é¡ºåºå¾ˆé‡è¦ï¼Œé˜²æ­¢å¡æ­»ã€‚

##### Qç¾¤æ·»åŠ ååˆ—è¡¨åˆ·æ–°åŸç†
1. æ–¹æ¡ˆ1
ä»£ä»·å°±æ˜¯æ•ˆèƒ½çœŸçš„æ˜¯éå¸¸ä½ï¼Œä½†æ˜¯åœ¨ç”¨æˆ·çœ¼ä¸­ä¹Ÿæ˜¯æ„Ÿè§‰ä¸åˆ°å¡é¡¿çš„ã€‚å¯ä»¥é˜²æ­¢é‡å¤æ·»åŠ `# self.QQGroupList.addItem(self.QQGroupName.text())  # æŠŠè¿™ä¸ªæ–°æ·»åŠ çš„é”®å€¼æ·»åŠ åˆ°åˆ—è¡¨é‡Œé¢å»ï¼ˆé‡å¤§bugå°±æ˜¯ä¼šé‡å¤ï¼‰`ã€‚è¿™ä¸ªæœ€å¤§çš„å¥½å¤„å°±æ˜¯æå¤§çš„èŠ‚çœäº†ä»£ç 
```python
self.QQGroupList.clear()    # æ¸…ç©ºåˆ—è¡¨
self.import_bind_data()     # ä»é…ç½®æ–‡ä»¶é‡Œé¢é‡æ–°åŠ è½½æ•°æ®åˆ°åˆ—è¡¨ä¸­
```
2. æ–¹æ¡ˆ2(å½“å‰ä½¿ç”¨æ–¹æ¡ˆï¼Œæœ€æ±‚æ•ˆèƒ½)
åŠåˆ°äº†ç­›é€‰ä¸é‡å¤çš„åŠŸèƒ½ï¼ŒåŠæ—¶è·³å‡ºå¾ªç¯éå†é¿å…æ— æ„ä¹‰çš„éå†å’Œæ·»åŠ é€‰æ‹©é¡¹ã€‚
```python
before_add = self.config.bind.sections()    # æ·»åŠ å‰çš„æ‰€æœ‰èŠ‚
"""
ä¸€ç³»åˆ—çš„ä¿®æ”¹æ“ä½œ
"""
# æŠŠæ–°çš„é€‰æ‹©é¡¹æ·»åŠ è¿›å…¥Qç¾¤åˆ—è¡¨ï¼Œå¯ä»¥ç¡®ä¿ä¸é‡å¤
for section in before_add:  # éå†æ·»åŠ å‰çš„èŠ‚çœ‹æ˜¯å¦é‡å¤
    if section == self.QQGroupName.text():
        info(f"å·²ä¿®æ”¹ç»‘å®šé¡¹:{section}")
        break   # é‡å¤äº†é€€å‡ºå¾ªç¯
# æ²¡æœ‰é‡å¤æ·»åŠ è¿›å»ï¼ˆé‡å¤çš„èŠ‚ä¸éœ€è¦å†æ¬¡æ·»åŠ åˆ°åˆ—è¡¨é‡Œé¢å»ï¼‰
else:
    info(f"å·²æˆåŠŸæ·»åŠ ç»‘å®šé¡¹:{self.QQGroupName.text()}")
    self.QQGroupList.addItem(self.QQGroupName.text())  # æŠŠæ–°çš„é€‰æ‹©é¡¹ç›®æ·»åŠ åˆ°åˆ—è¡¨ä¸­
# ä¿å­˜Qç¾¤ç»‘å®šçš„æ–‡ä»¶(æ— è®ºæ˜¯å¦é‡å¤éƒ½è¦)
self.config.save_bind_ini()
self.set_orign_tip()  # è¾“å…¥æ¡†è®¾ç½®å›æ­£å¸¸çš„æç¤º
```

## ç¬”è®°
å°†è½¯ä»¶çš„å¯åŠ¨åˆ°ä½¿ç”¨åˆ°ç»ˆæ­¢è§†ä¸ºä¸€ä¸ªå‡½æ•°è®¡ç®—è¿‡ç¨‹ã€‚
æˆ‘æä¾›ä»€ä¹ˆï¼Ÿï¼ˆå‚æ•°ï¼‰
å‡½æ•°è®¡ç®—ï¼ˆéšè—ç»†èŠ‚ï¼‰
æˆ‘å¾—åˆ°ä»€ä¹ˆï¼Ÿï¼ˆç»“æœï¼‰

AIå¯¹æ¥ï¼šdeepseekï¼Œåé¢æƒ³æ gemini(è°·æ­Œçš„ï¼Œé€æŒºå¤štoeknçš„)

æ ¸å¿ƒåŠŸèƒ½å‚æ•°ï¼š
è¶…ç®¡root(å¿…è¦ï¼Œ åªèƒ½æœ‰ä¸€ä¸ª)
é€€å‡ºæŒ‡ä»¤çš„å¯†ç ï¼ˆå¿…è¦ï¼Œåªæœ‰è¶…ç®¡çŸ¥é“ï¼‰
ç¾¤èŠåï¼ˆå¿…è¦ï¼‰
å±é™©åŠŸèƒ½ç§»é™¤ï¼ˆå¿…è¦ï¼‰
åˆå§‹äººè®¾ï¼ˆéå¿…è¦ï¼‰
QQçª—å£ä½ç½®ï¼ˆéå¿…è¦ï¼‰

è·å¾—çš„ä¸œè¥¿
1. ç¾¤èŠçš„èŠå¤©è®°å½•ï¼Œæ”¾åœ¨ç¡¬ç›˜ã€‚æ¯æ¬¡å¯åŠ¨ç¨‹åºä¼šè¿›è¡Œè¦†ç›–ä¸Šæ¬¡è®°å½•ã€‚
2. è‡ªåŠ¨å›å¤


## åç»­æŒ‰é’®
1. æ‰“å¼€æç¤ºåº“ï¼Œæˆ–ä¿®æ”¹æç¤ºåº“ä¹‹ç±»çš„
2. å…³é”®è¯å›å¤

## è¾“å…¥é‡å®šå‘é—®é¢˜
- è¿›ç¨‹æ± è¾“å‡ºé‡å®šå‘
- ä¸»ç¨‹åºè¾“å‡ºé‡å®šå‘

é€†å¤©å‘ç°å°±æ˜¯å…¶loggingè¾“å‡ºéƒ½æ˜¯çº¢è‰²æ˜¯å› ä¸ºé‡å®šå‘ä¸º`sys.stderr`ï¼Œåªè¦æ”¹ä¸º`sys.stdout`è¾“å‡ºçš„å°±å…¨éƒ½æ˜¯ç™½è‰²äº†ã€‚

è®°å½•æˆåŠŸä»£ç 
```python
sys.stdout = OutputRedirection()   # å®ä¾‹åŒ–è¾“å‡ºé‡å®šå‘
sys.stdout.text_print.connect(self.log_print)
def log_print(self, text):
    """æ—¥å¿—è¾“å‡º
    text : é‡å®šå‘è¿”å›çš„æ–‡æœ¬
    """
    self.ConsolePrint.insertPlainText(text)
# self.ConsolePrint.setText() è¿™ä¸ªä¸è¡Œ
```

```python
sys.stdout = self
    """äº‹ä»¶é‡å†™"""
def write(self, text):
    self.ConsolePrint.insertPlainText(text)

def closeEvent(self, event):
    sys.stderr = None   # é”™è¯¯è¾“å‡ºé‡å®šå‘ä¸ºç©º(ä¹‹å‰æ˜¯å®šå‘è‡ªå·±çš„)
    sys.stdout = None   # è¾“å‡ºé‡å®šå‘ä¸ºç©º(ä¹‹å‰æ˜¯å®šå‘è‡ªå·±çš„)
    super().closeEvent(event)   # ç»§æ‰¿ä¹‹å‰çš„å…³é—­åŠŸèƒ½
```


## å¼€å‘æ—¥å¿—
æ²¡æƒ³æˆ‘ä¼šä»¥è¿™ç§æ–¹å¼å¯¹è‡ªå·±ä¹‹å‰çš„é¡¹ç›®ï¼ˆQQæœºå™¨äººï¼‰è¿›è¡Œç»´æŠ¤ã€‚æƒé™éš”ç¦»å¾—é‡å†™ï¼Œç”¨æˆ·é…ç½®ä¹Ÿå¾—æ”¹ï¼ŒAIPå‘å›¾å¾—æ”¹ï¼Œå¤šåª’ä½“æ–‡æœ¬å¼‚å¸¸å¤„ç†ä¹Ÿå¾—æ”¹ï¼Œå†—ä½™é€»è¾‘ä»£ç å¾—æ”¹ã€‚

### è¾“å‡ºé‡å®šå‘é—®é¢˜
æˆ‘æ‰¾äº†å¥½å¤šæ–¹æ³•ï¼Œä½†æ˜¯æ€»ä½“æ¥è¯´æˆ‘ç¡®å®å°åˆ°äº†è´¥æœ
1. æˆ‘æˆåŠŸç”¨è¿›ç¨‹æ± å®ç°äº†å¤šçª—å£æ§åˆ¶ï¼Œä½†æ˜¯PyQt6é‡Œé¢æˆ‘å´æ²¡æœ‰æ‰¾åˆ°æ–¹æ³•ç»™ä»–å¡è¿›å»ï¼ŒGUIæ˜¯ä¸»è¿›ç¨‹ä¸èƒ½è¢«é˜»å¡ï¼ˆå°è¯•è¿‡é€šè¿‡Qtçº¿ç¨‹æ¥åˆ›å»ºè¿›ç¨‹æ± ï¼Œå¡æ­»å¤±è´¥ï¼‰ã€‚
2. åªæœ‰åœ¨è¿›ç¨‹ä¸­æ‰æœ‰ç‹¬ç«‹çš„è¾“å‡ºå’Œæ¥æ”¶çš„apiï¼Œè¿™ä¹Ÿæ„å‘³ç€åªæœ‰è¿›ç¨‹èƒ½å¤Ÿå®ç°è¾“å‡ºé‡å®šå‘çš„æ–¹å¼
3. æ— å¥ˆä¹‹ä¸­æˆ‘ç”¨çº¿ç¨‹æ± å®ç°äº†å¤šçª—å£æ§åˆ¶çš„æ•ˆæœï¼Œä½†æ˜¯ç”±äºä¸æ˜¯è¿›ç¨‹æ‰€ä»¥è¾“å‡ºé‡å®šå‘çš„æ¥å£åªæœ‰ä¸€ä¸ªä¸èƒ½åŠåˆ°åŒæ—¶åˆ†æµã€‚

***è¾“å‡ºé‡å®šå‘é—®é¢˜å·²ç»è§£å†³***
ä»¤æˆ‘æƒŠåˆ°ä¸‹å·´éƒ½æ‰çš„æ˜¯ï¼Œ`print()`å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯pythonçš„è¾“å‡ºå‡½æ•°ï¼Œæœ¬è´¨ä¸Šä»–æ˜¯å‘å±å¹•è¾“å‡ºäº†2æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ˜¯æ–‡æœ¬ï¼Œç¬¬äºŒæ¬¡æ˜¯`\n`ã€‚è¿™ä¸ªæ–¹æ³•å‘å±å¹•writeäº†2æ¬¡ï¼Œ1æ¬¡writeå°±æ˜¯å±å¹•å‡ºç°ä¸€è¡Œæ–‡æœ¬

### PyQt6è§†é¢‘æ’­æ”¾
https://blog.csdn.net/qq_24818607/article/details/145606820?ops_request_misc=%257B%2522request%255Fid%2522%253A%25224f96bb934b7382ba7dcb23f5bf4b8e9b%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=4f96bb934b7382ba7dcb23f5bf4b8e9b&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-2-145606820-null-null.142^v102^pc_search_result_base6&utm_term=pyqt6%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8&spm=1018.2226.3001.4187


èµ„æºç³»ç»Ÿè·¯å¾„(:/path/to/resource)ä¸èƒ½ç”¨äºQUrl.fromLocalFile()ï¼Œå› ä¸ºï¼š
fromLocalFile() åªé€‚ç”¨äºæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿè·¯å¾„
èµ„æºè·¯å¾„éœ€è¦é€šè¿‡QUrl("qrc:/path/to/resource")æ ¼å¼åŠ è½½
```python
def loop_dynamic_background(self, status):
    """å¾ªç¯ä¸»é¡µçª—å£çš„åŠ¨æ€èƒŒæ™¯å¾ªç¯"""
    from PyQt6.QtMultimedia import QMediaPlayer
    status_names = {
        QMediaPlayer.MediaStatus.NoMedia: "æ— åª’ä½“",
        QMediaPlayer.MediaStatus.LoadingMedia: "åŠ è½½ä¸­",
        QMediaPlayer.MediaStatus.LoadedMedia: "å·²åŠ è½½",
        QMediaPlayer.MediaStatus.StalledMedia: "åœæ»",
        QMediaPlayer.MediaStatus.BufferingMedia: "ç¼“å†²ä¸­",
        QMediaPlayer.MediaStatus.BufferedMedia: "å·²ç¼“å†²",
        QMediaPlayer.MediaStatus.EndOfMedia: "æ’­æ”¾ç»“æŸ",
        QMediaPlayer.MediaStatus.InvalidMedia: "æ— æ•ˆåª’ä½“"
    }
    print(f"åª’ä½“çŠ¶æ€å˜åŒ–: {status_names.get(status, 'æœªçŸ¥çŠ¶æ€')}")
    # è§†é¢‘ç»“æŸæ—¶é‡æ–°æ’­æ”¾
    if status == QMediaPlayer.MediaStatus.EndOfMedia:       # å¦‚æœè§†é¢‘æ’­æ”¾ç»“æŸ
        self.video_player.setPosition(0)  # å›åˆ°å¼€å¤´
        self.video_player.play()  # é‡æ–°æ’­æ”¾
```

æˆ‘é ï¼Œä½¿ç”¨é“¾æ¥çš„æ–¹å¼å¾ªç¯ä¼šç»™æˆ‘é»‘ä¸€ä¸‹å±ï¼Œ2ä¸ªè§†é¢‘é“¾æ¥ä¸ä¸Šã€‚ä¸è¿‡æ²¡äº‹ï¼Œæˆ‘ç»™å®ƒå¤šçº¿ç¨‹whileä¸€ä¸‹å°±okäº†ï¼Œç®€å•çš„å†™æ³•å°±æ˜¯å¾ªç¯intç±»å‹çš„ä¸Šé™ï¼Œç„¶åç»“æŸçš„æ—¶å€™ç»™ä»–é“¾æ¥ä¸€ä¸‹ä¿¡å·ã€‚
AI:ç¡®å®ï¼Œä½¿ç”¨ mediaStatusChanged ä¿¡å·å¾ªç¯æ’­æ”¾æ—¶ä¼šå‡ºç°çŸ­æš‚é»‘å±ï¼Œè¿™æ˜¯å› ä¸ºåª’ä½“æ’­æ”¾å™¨åœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä¼šç»å†"æ— åª’ä½“"çŠ¶æ€ã€‚ä½¿ç”¨åŒæ’­æ”¾å™¨äº¤æ›¿æ’­æ”¾ï¼ˆæ¨èï¼‰,ä½¿ç”¨å•ä¸ªæ’­æ”¾å™¨é¢„åŠ è½½æŠ€æœ¯ã€‚`self.video_player_list = QMediaPlaylist()`åˆ›å»ºå¾ªç¯åˆ—è¡¨ç”¨æ¥å¤„ç†(PyQt6å·²ç»ç§»é™¤)ã€‚åŒæ’­æ”¾å™¨äº¤æ›¿å°±æ˜¯é«˜æ€§èƒ½ã€‚
æœ€ç»ˆæ–¹æ¡ˆ
```python
self.video_player.setLoops(QMediaPlayer.Loops.Infinite)  # å¾ªç¯æ— é™æ¬¡æ•°(æœ¬è´¨æ˜¯ä¸ª-1)
```

æœ‰ä¸€ä¸ªbugå°±æ˜¯å¦‚æœä¸è®¾ç½®æ’­æ”¾çª—å£çš„å¤–å¸ƒå±€å°±ä¼šè§†é¢‘æ’­æ”¾ä½ç½®ä¹±åŠ¨ï¼Œé‡Œé¢è®¾ä¸è®¾ç½®éƒ½æ²¡å…³ç³»ã€‚çˆ¶å®¹å™¨å¸ƒå±€å¿…é¡»è¦æœ‰ã€‚

å¥‡å¦™çš„æ˜¯æˆ‘åœ¨æ’­æ”¾å™¨çš„çª—å£`DynamicBackground`å†…æ”¾ç½®äº†ä¸€ä¸ª`Vertical Layout`æ§ä»¶å°±ä¸ç”¨è®¾ç½®`layout = QVBoxLayout(self.DynamicBackground)`ã€`layout.setContentsMargins(0, 0, 0, 0)  # æ— è¾¹æ¡†`ã€`layout.setSpacing(0)  # æ— é—´è·`çš„ä»£ç äº†ï¼Œä½†æ˜¯`setAspectRatioMode`çš„ä»£ç å¿…é¡»è¿˜å¾—è¦ï¼Œä¸ç„¶è¿˜æ˜¯æœ‰bug
```python
# ç¡®ä¿çˆ¶å®¹å™¨æœ‰å¸ƒå±€
# å¦‚æœåªæ˜¯æŠŠåŠ¨æ€è§†é¢‘åŠ èƒŒæ™¯å°±å¿…é¡»åŠ 
layout = QVBoxLayout(self.DynamicBackground)
layout.setContentsMargins(0, 0, 0, 0)  # æ— è¾¹æ¡†
layout.setSpacing(0)  # æ— é—´è·
self.video_player = QMediaPlayer(self)  # åˆ›å»ºå¤šåª’ä½“æ’­æ”¾å™¨
self.player_widget = QVideoWidget(self.DynamicBackground)   # ä¼ å…¥uiçš„å¯¹åº”ç•Œé¢æ§ä»¶åˆ›å»ºè§†é¢‘æ˜¾ç¤ºæ§ä»¶
self.DynamicBackground.layout().addWidget(self.player_widget)
self.video_player.setVideoOutput(self.player_widget)        # å¤šåª’ä½“æ’­æ”¾å™¨è®¾ç½®çª—å£æ¥è§†é¢‘è¾“å‡º
self.video_player.setSource(QUrl("qrc:/èƒŒæ™¯/èƒŒæ™¯/åŠ¨æ€è§†é¢‘.mp4"))  # è®¾ç½®æ’­æ”¾èµ„æºï¼ŒfromLocalFileå¤„ç†è·¯å¾„é—®é¢˜
self.player_widget.setAspectRatioMode(Qt.AspectRatioMode.IgnoreAspectRatio)     # ä¿æŒå®½é«˜æ¯”å¹¶å¡«å……æ•´ä¸ªæ§ä»¶
self.video_player.setLoops(2147483647)  # å¾ªç¯æé™æ¬¡æ•°
self.video_player.play()  # å¼€å§‹æ’­æ”¾
```

è§†é¢‘æ‹‰ä¼¸å˜åŒ–
```python
# IgnoreAspectRatio - å¿½ç•¥å®½é«˜æ¯”
self.player_widget.setAspectRatioMode(Qt.AspectRatioMode.IgnoreAspectRatio)
# æ•ˆæœï¼šè§†é¢‘ä¼šæ‹‰ä¼¸ä»¥å¡«æ»¡æ•´ä¸ªæ§ä»¶ï¼Œä¸è€ƒè™‘åŸå§‹å®½é«˜æ¯”
# ä¼˜ç‚¹ï¼šå®Œå…¨å¡«å……æ§ä»¶
# ç¼ºç‚¹ï¼šå¯èƒ½å¯¼è‡´è§†é¢‘å˜å½¢
# é€‚ç”¨åœºæ™¯ï¼šå½“æ§ä»¶æ¯”ä¾‹ä¸è§†é¢‘æ¯”ä¾‹å®Œå…¨åŒ¹é…æ—¶ï¼Œæˆ–è€…å˜å½¢ä¸é‡è¦æ—¶

# KeepAspectRatio - ä¿æŒå®½é«˜æ¯”
self.player_widget.setAspectRatioMode(Qt.AspectRatioMode.KeepAspectRatio)
# æ•ˆæœï¼šä¿æŒè§†é¢‘åŸå§‹å®½é«˜æ¯”ï¼Œåœ¨æ§ä»¶å†…å±…ä¸­æ˜¾ç¤º
# ä¼˜ç‚¹ï¼šè§†é¢‘ä¸å˜å½¢
# ç¼ºç‚¹ï¼šæ§ä»¶ä¸¤ä¾§æˆ–ä¸Šä¸‹å¯èƒ½å‡ºç°é»‘è¾¹
# é€‚ç”¨åœºæ™¯ï¼šéœ€è¦ä¿æŒè§†é¢‘åŸå§‹æ¯”ä¾‹çš„æƒ…å†µ

#  KeepAspectRatioByExpanding - ä¿æŒå®½é«˜æ¯”å¹¶æ‰©å±•
self.player_widget.setAspectRatioMode(Qt.AspectRatioMode.KeepAspectRatioByExpanding)
# æ•ˆæœï¼šä¿æŒè§†é¢‘åŸå§‹å®½é«˜æ¯”ï¼Œä½†ä¼šç¼©æ”¾è§†é¢‘ç›´åˆ°å¡«æ»¡æ•´ä¸ªæ§ä»¶
# ä¼˜ç‚¹ï¼šæ— é»‘è¾¹ï¼Œè§†é¢‘ä¸å˜å½¢
# ç¼ºç‚¹ï¼šè§†é¢‘è¾¹ç¼˜å¯èƒ½è¢«è£å‰ª
# é€‚ç”¨åœºæ™¯ï¼šéœ€è¦å®Œå…¨å¡«å……æ§ä»¶ä¸”ä¸å¸Œæœ›å˜å½¢æ—¶
```

è§†é¢‘é—®é¢˜ï¼Œæˆ‘ç›´æ¥å»ææƒäº†ï¼Œè¿™æ ·ææ–¹ä¾¿å¾ˆå¤šï¼Œæˆ‘ç›´æ¥æå‡çª—å£ç±»å‹ã€‚
![alt text](image.png)
```python
self.video_player = QMediaPlayer(self)  # åˆ›å»ºå¤šåª’ä½“æ’­æ”¾å™¨
self.video_player.setVideoOutput(self.DynamicBackground)        # å¤šåª’ä½“æ’­æ”¾å™¨è®¾ç½®çª—å£æ¥è§†é¢‘è¾“å‡º
self.video_player.setSource(QUrl("qrc:/èƒŒæ™¯/èƒŒæ™¯/åŠ¨æ€è§†é¢‘.mp4"))  # è®¾ç½®æ’­æ”¾èµ„æºï¼ŒfromLocalFileå¤„ç†è·¯å¾„é—®é¢˜
self.DynamicBackground.setAspectRatioMode(Qt.AspectRatioMode.KeepAspectRatioByExpanding)     # ä¿æŒå®½é«˜æ¯”å¹¶å¡«å……æ•´ä¸ªæ§ä»¶
self.video_player.setLoops(QMediaPlayer.Loops.Infinite)  # å¾ªç¯æ— é™æ¬¡æ•°
self.video_player.play()  # å¼€å§‹æ’­æ”¾
```
**å°½åŠ›äº†**ï¼Œç¡®å®æ²¡æ‰¾åˆ°åŠæ³•å®ç°è§†é¢‘çª—å£ä¸Šå †æ§ä»¶


### ***è§†é¢‘ä½ç½®åç§»é—®é¢˜***
æ­£å¸¸æ’­æ”¾è§†é¢‘åï¼Œè§†é¢‘ä½ç½®å‘ç”Ÿäº†åç§»ï¼Œä¸åœ¨åŸæ¥æƒ³è¦æ’­æ”¾çš„çª—å£ä¸Šäº†ã€‚æˆ‘è¿™é‡Œæœ‰bugå°±æ˜¯éœ€è¦æ‰‹åŠ¨æ”¹å˜çª—å£å¤§å°æ‰èƒ½è§†é¢‘çª—å£æ‰èƒ½æ¢å¤ä½ç½®ã€‚
```python
self.adjustSize()       # è°ƒæ•´åˆ°æ¨èå¤§å°(è¿™ä¸ªéå¸¸æœ‰ç”¨)
def showEvent(self, event):
    """é‡å†™showæ–¹æ³•å¤„ç†è§†é¢‘ä½ç½®å¼‚å¸¸"""
    super().showEvent(event)        # ç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³•
    # self.adjustSize()       # è‡ªåŠ¨è°ƒæ•´åˆ°æ¨èå¤§å°(è¿™ä¸ªéå¸¸æœ‰ç”¨ï¼Œä½†æ˜¯å¤§å°ä¸å—è‡ªå·±æ§åˆ¶äº†)
    width, height = window.size().width(), window.size().height()
    self.resize(width, height + 1)      # åŠ 1ç‚¹åƒç´ 
    self.resize(width, height)          # æ¢å¤å¤§å°ï¼ˆé€šè¿‡æ”¹å˜è¾¹æ¡†çš„æ–¹æ³•å®ç°åŠ¨æ€èƒŒæ™¯æ˜¾ç¤ºä¸å®Œæ•´çš„é—®é¢˜ï¼‰
```

### æ¶ˆæ¯å¼¹çª—
https://c.biancheng.net/view/9421.html
```python
QMessageBox.question(
     parent,      # QWidget å®ä¾‹
     title,       # å­—ç¬¦ä¸²
     text,        # å­—ç¬¦ä¸²
     buttons,     # StandardButton ç»„åˆ
     defaultButton # StandardButtonï¼ˆå¯é€‰ï¼‰
)
```
information æ¶ˆæ¯å¯¹è¯æ¡†
critical    â€œæ“ä½œé”™è¯¯â€æˆ–â€œè¿è¡Œå¤±è´¥â€
question    å‘ç”¨æˆ·æå‡ºé—®é¢˜å¹¶æ¥æ”¶ç”¨æˆ·çš„ç­”æ¡ˆ

æœªæ¥å¯èƒ½æœ‰ç”¨çš„ä¸œè¥¿
```python
# def messagebox(self, win_title, title, text, detailed_text, btn: list):
    #     """æ¶ˆæ¯å¼¹çª—
    #     win_title : çª—å£æ ‡é¢˜
    #     title : è‡ªå®šä¹‰æ ‡é¢˜
    #     text ï¼š è‡ªå®šä¹‰çš„å¼¹çª—å†…å®¹ï¼Œæ”¯æŒHTMLæ ¼å¼
    #     detailed_text : è¯¦ç»†å†…å®¹
    #     btn : æ•°å­—åˆ—è¡¨ï¼Œæ·»åŠ æŒ‰é’®1ä¸ºä¿å­˜ï¼Œ2ä¸ºæ”¾å¼ƒï¼Œ3ä¸ºå–æ¶ˆ
    #     """
    #     # åˆ›å»ºè‡ªå®šä¹‰å¼¹çª—
    #     msg_box = QMessageBox()
    #     msg_box.setWindowTitle(win_title)               # win_title
    #     msg_box.setText(title)                          # è‡ªå®šä¹‰æ ‡é¢˜
    #     msg_box.setInformativeText(text)                # è‡ªå®šä¹‰çš„å¼¹çª—å†…å®¹ï¼Œæ”¯æŒHTMLæ ¼å¼
    #     msg_box.setDetailedText(detailed_text)          # è¯¦ç»†å†…å®¹
    #     msg_box.setIcon(QMessageBox.Icon.Information)   # è®¾ç½®å›¾æ ‡
    #
    #     # æ·»åŠ è‡ªå®šä¹‰æŒ‰é’®
    #     if 1 in btn:
    #         save_btn = msg_box.addButton("ä¿å­˜", QMessageBox.ButtonRole.AcceptRole)
    #     if 2 in btn:
    #         discard_btn = msg_box.addButton("æ”¾å¼ƒ", QMessageBox.ButtonRole.DestructiveRole)
    #     if 3 in btn:
    #         cancel_btn = msg_box.addButton("å–æ¶ˆ", QMessageBox.ButtonRole.RejectRole)
    #
    #     # æ˜¾ç¤ºå¼¹çª—
    #     msg_box.exec()
    #
    #     # å¤„ç†ç»“æœ
    #     if msg_box.clickedButton() == save_btn:
    #         self.statusBar().showMessage("ç”¨æˆ·é€‰æ‹©äº†ä¿å­˜", 3000)
    #     elif msg_box.clickedButton() == discard_btn:
    #         self.statusBar().showMessage("ç”¨æˆ·é€‰æ‹©äº†æ”¾å¼ƒ", 3000)
    #     elif msg_box.clickedButton() == cancel_btn:
    #         self.statusBar().showMessage("ç”¨æˆ·å–æ¶ˆäº†æ“ä½œ", 3000)

    # def error_msg_box(self):
    #     """å¼¹çª—é”™è¯¯çª—å£ï¼ˆä»…é€šçŸ¥é”™è¯¯ï¼‰"""
    #     ok_button = msg_box.addButton(QMessageBox.StandardButton.Ok)  # æ·»åŠ æ ‡å‡†æŒ‰é’®
    #     ok_button.setText("ç¡®è®¤")  # å°†"OK"æ”¹ä¸º"ç¡®è®¤"
    #
    #
    #
    #     msg_box.setDefaultButton(ok_button)     # è®¾ç½®ä¸ºé»˜è®¤
    #
```
QtDesigneræ–¹ä¾¿å¼€å‘
https://blog.csdn.net/weixin_45905286/article/details/149342955?spm=1011.2415.3001.5331

qdesigner_internal--StyleSheetEditor {
	font-size:30px;  /*å­—ä½“å¤§å°, æ ¹æ®éœ€è¦è‡ªè¡Œæ›´æ”¹*/
}


### å‚ç›´æ»šåŠ¨æ¡
https://blog.csdn.net/chenyijun/article/details/133385962?spm=1001.2101.3001.6650.5&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-5-133385962-blog-129893034.235%5Ev43%5Epc_blog_bottom_relevance_base5&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-5-133385962-blog-129893034.235%5Ev43%5Epc_blog_bottom_relevance_base5
å±æ€§	æ„æ€
QScrollBar:vertical	å‚ç›´æ»šåŠ¨æ¡æ•´ä½“èƒŒæ™¯é£æ ¼
QScrollBar::handle:vertical	å‚ç›´æ»šåŠ¨æ¡æ»‘åŠ¨å—é£æ ¼
QScrollBar::add-line:vertical	å‚ç›´æ»šåŠ¨æ¡åº•éƒ¨æ·»åŠ ä¸€ä¸ªæŒ‰é’®
QScrollBar::sub-line:vertical	å‚ç›´æ»šåŠ¨æ¡è¦†ç›–é¡¶éƒ¨çš„æŒ‰é’®
QScrollBar:up-arrow:vertical	å‚ç›´æ»šåŠ¨æ¡é¡¶è¾¹æŒ‰é’®ä¸Šçš„ç®­å¤´
QScrollBar:down-arrow:vertical	å‚ç›´æ»šåŠ¨æ¡åº•éƒ¨æŒ‰é’®ä¸Šçš„ç®­å¤´
QScrollBar::add-page:vertical	å‚ç›´æ»šåŠ¨æ¡æ»‘åŠ¨å—ä¸‹è¾¹åŒºåŸŸçš„é£æ ¼
QScrollBar::sub-page:vertical	å‚ç›´æ»šåŠ¨æ¡æ»‘åŠ¨å—ä¸Šè¾¹åŒºåŸŸçš„é£æ ¼


## é‡å†™æŒ‡ä»¤ç³»ç»Ÿå’Œæƒé™ç³»ç»Ÿ
æƒé™ç³»ç»Ÿæ˜¯é’ˆå¯¹äºæŒ‡ä»¤ç³»ç»Ÿå†™çš„ï¼ŒæŒ‡ä»¤ç³»ç»Ÿä¸­å­˜åœ¨å¤§éƒ¨åˆ†çš„â€œå±é™©æŒ‡ä»¤â€ï¼Œå¦‚æœè¢«åˆ«äººæ»¥ç”¨å°±æå¯èƒ½è¿æ³•è¿è§„å’Œå¯¼è‡´è‡ªå·±è´¦å·è¢«åˆ«äººä¸¾æŠ¥å°ç¦ã€‚

æœ€ä¸»è¦å’Œæœ€æ‹…å¿ƒçš„é—®é¢˜è¿˜æ˜¯é€’å½’çš„é—®é¢˜ï¼ŒQQæœºå™¨äººå¸å·èƒ½å¦è‡ªå·±å‘è‡ªå·±å‘å‡ºæé—®åä¸ä¼šäº§ç”Ÿé€’å½’ï¼Ÿæƒ…å†µå‘ç”Ÿï¼š
1. æ£€æµ‹åˆ°`@æœºå™¨äººå`ä¹‹åè¿›è¡Œå›å¤ï¼Œå›å¤æ—¶æ˜¯`@å¯¹æ–¹å + å›å¤å†…å®¹`ï¼Œæ‰€ä»¥å¦‚æœæ˜¯è‡ªå·±çš„ä¼šå°±ä¼šå¯¼è‡´`@å¯¹æ–¹å + å›å¤å†…å®¹ = @æœºå™¨äººå + å›å¤å†…å®¹`ï¼Œç”±æ­¤å½¢æˆä¸€ä¸ªæ­»å¾ªç¯ã€‚
2. å…³é”®è¯å›å¤ä¸­æŠŠæœºå™¨äººè´¦å·åè®¾ç½®äº†ä¸ºå…³é”®è¯ï¼Œå¦‚æœè‡ªå·±è°ƒç”¨è‡ªå·±ï¼Œå½“å®ƒå›å¤åä¼š@è´¦å·åï¼Œè¿™å°±è§¦å‘äº†å…³é”®è¯ï¼Œä¸‹ä¸€æ¬¡ä¼šæœ‰åˆæœ‰@ï¼Œæ­¤æ—¶å°±å˜æˆäº†é€’å½’çš„æ­»å¾ªç¯
ä¹‹å‰çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯`@è´¦å·å`æ›¿æ¢ä¸º`@è‡ªå·±`ã€‚





## æŠ¥åºŸä»£ç (ä»¥åå¯èƒ½æœ‰ç”¨)
```python
# self.QQGroupName.textEdited.connect(self.qq_group_name_edit)                    # Qç¾¤åç§°ä¿¡å·
# self.BotName.textEdited.connect(self.bot_name_edit)                             # æœºå™¨äººåä¿¡å·
# self.Root.textEdited.connect(self.root_edit)                                    # æœ€é«˜æƒé™è€…ä¿¡å·
# self.InitRole.textEdited.connect(self.init_role_edit)                           # åˆå§‹äººè®¾ä¿¡å·
# self.ExitPassword.textEdited.connect(self.exit_password_edit)                   # é€€å‡ºå¯†ç ä¿¡å·
# self.RemoveDangerousOrder.toggled.connect(self.remove_dangerous_order_change)   # ç§»é™¤å±é™©æŒ‡ä»¤ä¿¡å·

def qq_group_name_edit(self, text):
"""Qç¾¤åç¼–è¾‘æ¡†æ§½å‡½æ•°å®ç°"""
print(text)

def bot_name_edit(self, text):
"""æœºå™¨äººåç¼–è¾‘æ¡†æ§½å‡½æ•°å®ç°"""
print(text)

def root_edit(self, text):
"""æœ€é«˜æƒé™è€…ç¼–è¾‘æ¡†æ§½å‡½æ•°å®ç°"""
print(text)

def exit_password_edit(self, text):
"""é€€å‡ºå¯†ç ç¼–è¾‘æ¡†æ§½å‡½æ•°å®ç°"""
print(text)

def init_role_edit(self, text):
"""åˆå§‹äººè®¾ç¼–è¾‘æ¡†æ§½å‡½æ•°å®ç°"""
print(text)

def remove_dangerous_order_change(self, state: bool):
"""ç§»é™¤å±é™©æŒ‡ä»¤ç¼–è¾‘æ¡†æ§½å‡½æ•°å®ç°"""
print(state)
```

```python
    @staticmethod
    def store_api_key(service_name, username, password):
        """å­˜å‚¨apiå¯†é’¥
        å‚æ•°ï¼š
        service_name :   æœåŠ¡å
        username :   ç”¨æˆ·å
        password : å¯†é’¥
        """
        keyring.set_password(service_name, username, password)
        print("å·²å°†å¯†é’¥å­˜å‚¨å®Œæ¯•")
        return True

    @staticmethod
    def __get_api_key__(service_name, username):
        """ç§æœ‰æ–¹æ³•è¯»å–å¯†é’¥(é™æ€æ–¹æ³•)
        å‚æ•°ï¼š
        service_name :   æœåŠ¡å
        username :   ç”¨æˆ·å
        """
        print(f"å·²è·å–çš„APIå¯†é’¥")  # ä¸æ‰“å°è¾“å‡ºå¯†é’¥æ˜¾ç¤ºé¿å…æ³„éœ²
        return keyring.get_password(service_name, username)

    @staticmethod
    def remove_api_key(service_name, username):
        """åˆ é™¤å­˜å‚¨çš„å¯†é’¥(é™æ€æ–¹æ³•)
        å‚æ•°ï¼š
        service_name :   æœåŠ¡å
        username :   ç”¨æˆ·å
        """
        keyring.delete_password(service_name, username)
        print("å·²ä»ç³»ç»Ÿå¯†é’¥åº“åˆ é™¤å¯†é’¥")
        return True
```

æ¶ˆæ¯æˆªè·å’Œæ¶©å›¾å‘é€
```python
def hook_message(self,message_dict,max_processing_queues=10):
    """è®¾ç½®éœ€è¦æˆªè·çš„æ¶ˆæ¯,å¯ä»¥æ˜¯å‘é€è€…ï¼Œæ—¶é—´ï¼Œå‘é€æ¶ˆæ¯çš„å†…å®¹
    å‚æ•°ï¼š message_dict ï¼š å•æ¡æ¶ˆæ¯å­—å…¸{"å‘é€è€…": "yan di fei","å‘é€æ¶ˆæ¯": "hello world","å‘é€æ—¶é—´": "10:10:20"}
    max_processing_queues : é»˜è®¤10ï¼Œæœ€å¤§å¤„ç†é˜Ÿåˆ—ï¼Œè¶…è¿‡é˜Ÿåˆ—æœ€å¤§æ•°å°±ä¸è¿›é˜Ÿäº†
    """
    if len(self.message_processing_queues) > max_processing_queues: # è¶…å‡ºæœ€å¤§å¤„ç†æ•°
        print(f"\033[91mè¶…å‡ºæ¶ˆæ¯æœ€å¤§å¤„ç†æ•°:{max_processing_queues}ï¼Œä¸å¯¹æ¶ˆæ¯è¿›è¡Œå¤„ç†\033[0m")  # äº®çº¢è‰²
        message_dict["å‘é€è€…"], message_dict["å‘é€æ¶ˆæ¯"] = "ç³»ç»Ÿ", f"è¶…å‡ºæ¶ˆæ¯æœ€å¤§å¤„ç†æ•°:{max_processing_queues}ï¼Œä¸å¯¹æ¶ˆæ¯è¿›è¡Œå¤„ç†"
        self.message_processing_queues.append(message_dict)  # åŠ å…¥æ¶ˆæ¯å¤„ç†é˜Ÿåˆ—
        """é¢å¤–æ¨¡å—"""
    elif "æ¯æ—¥æ¶©å›¾" in message_dict["å‘é€æ¶ˆæ¯"]:
        print(f"\033[94mæ”¶åˆ° {message_dict["å‘é€è€…"]} è‰²å›¾å‘é€è¯·æ±‚\033[0m")
        self.send_url_image("https://api.seaya.link/random?type=file")  # å‘é€å›¾ç‰‡
    elif "cosæ¶©å›¾" in message_dict["å‘é€æ¶ˆæ¯"]:
        print(f"\033[94mæ”¶åˆ° {message_dict["å‘é€è€…"]} è‰²å›¾å‘é€è¯·æ±‚\033[0m")
        self.send_url_image("http://api.yujn.cn/api/cos.php")  # å‘é€å›¾ç‰‡
    elif "å°‘å¥³æ¶©å›¾" in message_dict["å‘é€æ¶ˆæ¯"]:
        print(f"\033[94mæ”¶åˆ° {message_dict["å‘é€è€…"]} è‰²å›¾å‘é€è¯·æ±‚\033[0m")
        self.send_url_image("https://cdn.seovx.com/d/?mom=302")  # å‘é€å›¾ç‰‡
    elif "ç™½ä¸æ¶©å›¾" in message_dict["å‘é€æ¶ˆæ¯"]:
        print(f"\033[94mæ”¶åˆ° {message_dict["å‘é€è€…"]} ç™½ä¸è‰²å›¾å‘é€è¯·æ±‚\033[0m")
        self.send_url_image("https://v2.xxapi.cn/api/baisi?return=302")  # å‘é€ç™½ä¸å›¾ç‰‡
    elif "é»‘ä¸æ¶©å›¾" in message_dict["å‘é€æ¶ˆæ¯"]:
        print(f"\033[94mæ”¶åˆ° {message_dict["å‘é€è€…"]} é»‘ä¸è‰²å›¾å‘é€è¯·æ±‚\033[0m")
        self.send_url_image("https://v2.xxapi.cn/api/heisi?return=302")  # å‘é€é»‘ä¸å›¾ç‰‡
    elif "èè‰æ¶©å›¾" in message_dict["å‘é€æ¶ˆæ¯"] in message_dict["å‘é€æ¶ˆæ¯"]:
        print(f"\033[94mæ”¶åˆ° {message_dict["å‘é€è€…"]} è‰²å›¾å‘é€è¯·æ±‚\033[0m")
        self.send_url_image("https://t.alcy.cc/moe")  # å‘é€å›¾ç‰‡
    # ç²¾ç¾å£çº¸
    elif "ç²¾ç¾å£çº¸" in message_dict["å‘é€æ¶ˆæ¯"] in message_dict["å‘é€æ¶ˆæ¯"]:
        print(f"\033[94mæ”¶åˆ° {message_dict["å‘é€è€…"]} ç²¾ç¾å£çº¸å‘é€è¯·æ±‚\033[0m")
        self.send_url_image("https://image.anosu.top/pixiv")  # å‘é€å›¾ç‰‡
        """æ­£è§„å®šæ¨¡å—"""
    # æˆªè·è‡ªå·±è¢«@çš„æƒ…å†µåšå‡ºæ¶ˆæ¯å¤„ç†
    elif f"@{self.monitor_name}" in message_dict["å‘é€æ¶ˆæ¯"]:  # æœ€æ–°åˆ—è¡¨è·å–æ¶ˆæ¯
        if self.monitor_name == message_dict["å‘é€è€…"]:        # è‡ªå·±@è‡ªå·±
            message_dict["å‘é€è€…"] = "è‡ªå·±"  # ç»™è‡ªå·±æ”¹å
        print(f"\033[94mæˆ‘è¢«{message_dict["å‘é€è€…"]}è‰¾ç‰¹äº†ï¼Œæ¶ˆæ¯æ˜¯:{message_dict["å‘é€æ¶ˆæ¯"]}\033[0m")
        self.message_processing_queues.append(message_dict)  # åŠ å…¥æ¶ˆæ¯å¤„ç†é˜Ÿåˆ—
    # æ£€æŸ¥æ˜¯å¦å¼€å¯äº†å…³é”®è¯è‡ªåŠ¨å›å¤,ä»…å½“å¼€å¯äº†æ‰ä¼š
    elif not self.keyword_respond or message_dict["å‘é€è€…"] == self.monitor_name:  # å…³é”®è¯è§¦å‘éœ€è¦3ä¸ªæ¡ä»¶ï¼š1.è®¾ç½®äº†å…³é”®è¯2.æ¶ˆæ¯ä½“å­˜åœ¨å…³é”®è¯3.æ¶ˆæ¯ä½“çš„å‘é€è€…ä¸æ˜¯è‡ªå·±
        return True   # æ²¡æœ‰å¼€å¯å…³é”®è¯è‡ªåŠ¨å›å¤ç›´æ¥é€€å‡º
    # æ£€æŸ¥æ˜¯å¦ä¸ºæ’é™¤å¯¹è±¡
    elif self.fiter_keyword_jude(message_dict["å‘é€è€…"]):   # æ­£åˆ™åˆ¤æ–­æ˜¯å¦ä¸ºæ’é™¤çš„å‘é€è€…
        print(f"\033[95mæ’é™¤å¯¹{message_dict["å‘é€è€…"]}çš„æ¶ˆæ¯å¤„ç†\033[0m")  # äº®ç´«è‰²
        return True   # å­˜åœ¨æ’é™¤çš„å‘é€è€…ç›´æ¥è¿”å›é€€å‡º
    # æˆªè·æŒ‡å®šçš„æ¶ˆæ¯ï¼ˆå…³é”®è¯ï¼‰è¿›è¡Œå¤„ç†
    elif self.message_keyword_jude(message_dict["å‘é€æ¶ˆæ¯"]):   # æ­£åˆ™åˆ¤æ–­æ¶ˆæ¯(å¦‚æœå‘é€è€…æ˜¯è‡ªå·±å°±è¿‡æ»¤å…³é”®è¯è§¦å‘)
        print(f"\033[94mæˆªè·å…³é”®è¯æ¶ˆæ¯:{message_dict["å‘é€æ¶ˆæ¯"]}ï¼Œå‘é€è€…æ˜¯:{message_dict["å‘é€è€…"]}\033[0m")
        self.message_processing_queues.append(message_dict)  # åŠ å…¥æ¶ˆæ¯å¤„ç†é˜Ÿåˆ—
    # æˆªè·æŒ‡å®šå‘é€è€…å­˜åœ¨å…³é”®è¯çš„æ¶ˆæ¯è¿›è¡Œå¤„ç†(å‘é€è€…å…¨ååœ¨å­—å…¸ä½ é¢ï¼Œå‘é€è€…çš„å…³é”®è¯åœ¨æ¶ˆæ¯ä½“é‡Œé¢)
    elif self.message_sender_keyword_jude(message_dict["å‘é€è€…"], message_dict["å‘é€æ¶ˆæ¯"]):     # æ­£åˆ™åˆ¤æ–­å‘é€è€…åŠå…¶æ¶ˆæ¯(å¦‚æœå‘é€è€…æ˜¯è‡ªå·±å°±è¿‡æ»¤å…³é”®è¯è§¦å‘)
        print(f"\033[94mæˆªè·å‘é€è€…:{message_dict["å‘é€è€…"]}ï¼Œæ¶ˆæ¯æ˜¯:{message_dict["å‘é€æ¶ˆæ¯"]}\033[0m")
        self.message_processing_queues.append(message_dict)  # åŠ å…¥æ¶ˆæ¯å¤„ç†é˜Ÿåˆ—
    # æˆªè·æŒ‡å®šçš„å‘é€è€…è¿›è¡Œå¤„ç†
    elif self.sender_keyword_jude(message_dict["å‘é€è€…"]):     # æ­£åˆ™åˆ¤æ–­å‘é€è€…(å¦‚æœå‘é€è€…æ˜¯è‡ªå·±å°±è¿‡æ»¤å…³é”®è¯è§¦å‘)
        print(f"\033[94mæˆªè·å…³é”®å‘é€è€…:{message_dict["å‘é€è€…"]}ï¼Œå‘é€æ¶ˆæ¯æ˜¯:{message_dict["å‘é€æ¶ˆæ¯"]}\033[0m")
        self.message_processing_queues.append(message_dict)  # åŠ å…¥æ¶ˆæ¯å¤„ç†é˜Ÿåˆ—
    return True
```

æ¶ˆæ¯å‘é€ï¼Œåå°æ–‡æœ¬ç²˜è´´å’Œå‘é€
```python
# æ¿€æ´»çª—å£åˆ°å‰å°
win32gui.SetForegroundWindow(self.qq_chat_hwnd)
# æ¿€æ´»çª—å£
win32gui.SendMessage(self.qq_chat_hwnd, win32con.WM_SETFOCUS, 0, 0)

# è®¾ç½®ç„¦ç‚¹
self.edit_box.SetFocus()
self.text_control.SetFocus()
# å…ˆå‘é€ WM_ACTIVATE æ¿€æ´»çª—å£å†å‘é€ WA_CLICKACTIVE é¼ æ ‡æ¿€æ´»
win32api.SendMessage(self.qq_chat_hwnd, win32con.WM_ACTIVATE, win32con.WA_CLICKACTIVE,0)
```

é«˜é€Ÿpoståå°å‘é€ï¼Œæ¯”`keybd_event`å’Œ`SendMessage`é€Ÿåº¦å¿«
ç‰¹æ€§	PostMessageæ–¹æ³•	keybd_eventæ–¹æ³•
æ‰§è¡Œæœºåˆ¶	ç›´æ¥å‘çª—å£æ¶ˆæ¯é˜Ÿåˆ—å‘é€æ¶ˆæ¯	è°ƒç”¨ç³»ç»Ÿçº§é”®ç›˜äº‹ä»¶API
ç³»ç»Ÿå¼€é”€	ä½ï¼ˆç›´æ¥çª—å£é€šä¿¡ï¼‰	ä¸­ï¼ˆç»è¿‡ç³»ç»Ÿäº‹ä»¶é˜Ÿåˆ—ï¼‰
ç›®æ ‡ç²¾ç¡®åº¦	é«˜ï¼ˆç›´æ¥æŒ‡å®šçª—å£å¥æŸ„ï¼‰	ä¸­ï¼ˆä¾èµ–å½“å‰ç„¦ç‚¹çª—å£ï¼‰
å¯é æ€§	ä¸­ï¼ˆä¾èµ–çª—å£æ¶ˆæ¯å¤„ç†ï¼‰	é«˜ï¼ˆæ¨¡æ‹ŸçœŸå®é”®ç›˜äº‹ä»¶ï¼‰
åå°æ“ä½œ	æ”¯æŒï¼ˆä¸è¦æ±‚çª—å£æ¿€æ´»ï¼‰	éœ€è¦çª—å£æ¿€æ´»æˆ–åœ¨å‰å°
å…¼å®¹æ€§	ä¸­ï¼ˆéƒ¨åˆ†åº”ç”¨å¯èƒ½å¿½ç•¥æ¶ˆæ¯ï¼‰	é«˜ï¼ˆç³»ç»Ÿçº§æ¨¡æ‹Ÿï¼‰
```python
# """ç›´æ¥å‘æ§ä»¶å‘é€ç²˜è´´æ¶ˆæ¯"""
# win32api.SendMessage(self.qq_chat_hwnd, win32con.WM_PASTE, 0, 0)

# å¯¹äºå¤æ‚æ§ä»¶
# win32gui.SendMessage(self.qq_chat_hwnd, win32con.EM_REPLACESEL, True, "æˆ‘æ˜¯ä¸€ä¸ªçƒ­")

# æ–¹æ¡ˆ1: è®¾ç½®æ•´ä¸ªæ–‡æœ¬å†…å®¹
# win32gui.SendMessage(self.qq_chat_hwnd, win32con.WM_SETTEXT, 0, "ç›´æ¥æ³¨å…¥çš„æ–‡æœ¬å†…å®¹")

# æ–¹æ¡ˆ2: åœ¨æ’å…¥ç‚¹æ’å…¥æ–‡æœ¬(æ¨¡æ‹Ÿç²˜è´´è¡Œä¸º)
# æ›¿æ¢å½“å‰é€‰ä¸­å†…å®¹(å¦‚æœæœ‰)
# win32gui.SendMessage(self.qq_chat_hwnd, win32con.EM_REPLACESEL, True, text)
```
å¤±è´¥
```python
# ç›´æ¥å‘é€ç²˜è´´æ¶ˆæ¯
win32gui.SendMessage(hwnd, win32con.WM_PASTE, 0, 0)
# å‘é€WM_PASTEæ¶ˆæ¯
win32gui.PostMessage(hwnd, win32con.WM_PASTE, 0, 0)
# å‘é€WM_COMMAND
win32gui.PostMessage(hwnd, win32con.WM_COMMAND, win32con.ID_EDIT_PASTE, 0)
```

é«˜æ€§èƒ½å¤±è´¥

```python
"""åå°æ¨¡æ‹ŸCtrl+VæŒ‰é”®"""
# è·å–æ‰«æç  (ä½¿ç”¨MapVirtualKeyçš„æ¨èæ–¹å¼)
ctrl_scan_code = win32api.MapVirtualKey(win32con.VK_CONTROL, 0)
v_scan_code = win32api.MapVirtualKey(ord('V'), 0)  # æ³¨æ„ä½¿ç”¨å¤§å†™V
# æ„å»ºlParamå‚æ•°
ctrl_down = (1 << 24) | (ctrl_scan_code << 16) | 1
ctrl_up = (1 << 24) | (ctrl_scan_code << 16) | (0xC0 << 24) | 1
v_down = (1 << 24) | (v_scan_code << 16) | 1
v_up = (1 << 24) | (v_scan_code << 16) | (0xC0 << 24) | 1
# æŒ‰ä¸‹Ctrlé”®->æŒ‰ä¸‹Vé”®->é‡Šæ”¾Vé”®->é‡Šæ”¾Ctrlé”®
win32api.PostMessage(self.hwnd, win32con.WM_KEYDOWN, win32con.VK_CONTROL, ctrl_down)
win32api.PostMessage(self.hwnd, win32con.WM_KEYDOWN, ord('V'), v_down)  # å¤§å†™V
win32api.PostMessage(self.hwnd, win32con.WM_KEYUP, ord('V'), v_up)
win32api.PostMessage(self.hwnd, win32con.WM_KEYUP, win32con.VK_CONTROL, ctrl_up)
```

æ–‡ä»¶å¤åˆ¶åˆ°å‰ªåˆ‡æ¿
```python
# å¤åˆ¶pdfåˆ°å‰ªåˆ‡æ¿é€»è¾‘
# æ„é€ æ–‡ä»¶åˆ—è¡¨å­—ç¬¦ä¸²ï¼ˆåŒNULLç»“å°¾çš„Unicodeï¼‰
file_list = rf".\ç”¨æˆ·è®¾ç½®\option\{jm_album_id}.pdf" + "\0\0"  # å•ä¸ªæ–‡ä»¶ä¹Ÿéœ€åŒNULLç»“å°¾
# è·å–æ–‡ä»¶æ‹–æ”¾æ ¼å¼ID
file_drop_format = win32clipboard.RegisterClipboardFormat("FileDrop")
# è½¬ä¸ºUTF-16å°ç«¯å­—èŠ‚
file_list_bytes = file_list.encode("utf-16le")
# æ„é€ DROPFILESå¤´éƒ¨ (20å­—èŠ‚)
dropfiles_header = struct.pack(
    "iiiii",
    20,  # pFiles: æ–‡ä»¶åˆ—è¡¨åç§»é‡(20å­—èŠ‚åå¼€å§‹)
    0, 0,  # pt: é¼ æ ‡ä½ç½®(è®¾ä¸º0)
    0,  # fNC: éå®¢æˆ·åŒºæ ‡è¯†(è®¾ä¸º0)
    1  # fWide: Unicodeæ ‡å¿—(å¿…é¡»ä¸º1)
)
# åˆå¹¶å¤´éƒ¨å’Œæ–‡ä»¶æ•°æ®
clip_data = dropfiles_header + file_list_bytes
try:
    win32clipboard.OpenClipboard()   # æ‰“å¼€å‰ªåˆ‡æ¿
    win32clipboard.EmptyClipboard()  # æ¸…ç©ºå‰ªåˆ‡æ¿

    # åˆ†é…å…¨å±€å†…å­˜(å†…å­˜åˆ†é…å’Œå¤åˆ¶æ“ä½œä»ç„¶æ˜¯å¿…ä¸å¯å°‘çš„æ ¸å¿ƒæ­¥éª¤)
    h_global = ctypes.windll.kernel32.GlobalAlloc(win32con.GMEM_MOVEABLE, len(clip_data))
    ctypes.memmove(ctypes.c_void_p(h_global), clip_data, len(clip_data))

    # è®¾ç½®ä¸¤ç§æ ¼å¼å¢å¼ºå…¼å®¹æ€§
    win32clipboard.SetClipboardData(win32con.CF_HDROP, file_list_bytes)  # 

    win32clipboard.SetClipboardData(win32con.CF_HDROP, h_global)

except Exception as e:
    print(f"å¤åˆ¶æ–‡ä»¶åˆ°å‰ªè´´æ¿å¤±è´¥: {str(e)}")
finally:
    win32clipboard.CloseClipboard() # å…³é—­å‰ªåˆ‡æ¿
```


## åç»­æ”¹è¿›
æŠŠè¿™ä¸¤ä¸ªä¿¡å·ç»™æ”¹è¿›æ‰è¡Œï¼Œè™½ç„¶å®ç°äº†åŠŸèƒ½ï¼Œä½†æ˜¯åœ¨é¼ æ ‡ç‚¹å‡»é€‰æ‹©ä¸åŒçš„é€‰æ‹©é¡¹æ—¶ä¼šè¿›è¡Œ2éå†è¯»å–ã€‚
```python
self.QQGroupList.currentItemChanged.connect(self.show_qq_group_info)    # QQç¾¤åˆ—è¡¨é€‰æ‹©é¡¹å‘ç”Ÿæ”¹å˜æ—¶æ˜¾ç¤ºQç¾¤ä¿¡æ¯
self.QQGroupList.clicked.connect(self.show_qq_group_info2)              # QQç¾¤åˆ—è¡¨é€‰æ‹©é¡¹è¢«ç‚¹å‡»æ—¶æ˜¾ç¤ºQç¾¤ä¿¡æ¯
```

æ»šåŠ¨æ¡ç»“æ„
![alt text](793794419295fa971493928a073d6ef2.png)


## è¿æ¥æ–‡æœ¬
#### ğŸ“– ä½¿ç”¨è¯´æ˜ ğŸ“–  
1. **ğŸ†“ å…è´¹å£°æ˜**  
   - æœ¬è½¯ä»¶ä¸º **å…è´¹å¼€æºé¡¹ç›®**ï¼è‹¥ä½ ä»˜äº†é’±ï¼Œè¯·ç«‹åˆ»é€€æ¬¾ï¼  
   - ğŸŒŸ GitHub åœ°å€ï¼š[https://github.com/yandifei/ArisuQQChatAI](https://github.com/yandifei/ArisuQQChatAI)  

2. **ğŸš€ é¡¹ç›®å®šä½**  
   - åŸºäºè‡ªç ”åº“ [DeepseekConversationEngine](https://github.com/yandifei/DeepseekConversationEngine) ğŸ“¦ å¼€å‘çš„ **ç¤ºä¾‹ç¨‹åº**ï¼Œç”¨äºæ¼”ç¤ºåŠŸèƒ½ä¸å¼€å‘æµç¨‹ã€‚  
   - ğŸ” æŒ‡ä»¤ç³»ç»Ÿè¯¦è§£è¯·å‚è€ƒåº“æ–‡æ¡£ â†’ [ä¸“å±æŒ‡ä»¤å¿«æ·è°ƒå‚](https://github.com/yandifei/DeepseekConversationEngine)  

3. **ğŸ”‘ å¯†é’¥é…ç½®å¿…è¯»**  
   - ä½¿ç”¨å‰ **å¿…é¡»é…ç½®** DeepSeek-API å¯†é’¥ ğŸ”ï¼  
   - è·å–æ–¹å¼ï¼š  
     - ğŸ“„ æŸ¥çœ‹ç›®å½•æ–‡æ¡£ã€Šçˆ±ä¸½ä¸QQèŠå¤©AI.pdfã€‹  
     - ğŸ“º è§‚çœ‹æ•™ç¨‹è§†é¢‘  
     - ğŸ¤– å’¨è¯¢ AI  
     - ğŸŒ [DeepSeek API Key å®˜ç½‘](https://platform.deepseek.com/api_keys)  

4. **ğŸ¨ QQ ä¸»é¢˜è®¾ç½®**  
   - éœ€åœ¨ QQ è®¾ç½®ä¸­å°† **ä¸»é¢˜é£æ ¼è°ƒæ•´ä¸ºã€Œæç®€ç™½ã€**ï¼Œå¦åˆ™å¯èƒ½æŠ¥é”™ï¼ âš ï¸  

5. **âœ¨ æ”¯æŒé¡¹ç›®**  
   - <div>
            <a href=https://github.com/yandifei/ArisuQQChatAI>
        å–œæ¬¢çš„è¯ï¼Œå°±ç»™çˆ±ä¸½ä¸ä¸ªâœ¨Starâœ¨å§ï¼ (ï¾‰>Ï‰<)ï¾‰â¤ï¸<img alt="Total Downloads" src="https://media.githubusercontent.com/media/yandifei/ArisuQQChatAI/main/%E7%88%B1%E4%B8%BD%E4%B8%9DQQ%E8%81%8A%E5%A4%A9AI/resources/%E7%88%B1%E4%B8%BD%E4%B8%9D%E8%A1%A8%E6%83%85%E5%8C%85/%E9%9D%9E%E5%A5%B3%E4%BB%86/14.png" width="50"/>
    </div>

#### âš ï¸ å…è´£å£°æ˜ âš ï¸  
1. **âš ï¸ å†…å®¹å…è´£**  
   - æœ¬è½¯ä»¶é€šè¿‡ DeepSeek API ç”Ÿæˆçš„å†…å®¹ **ä¸ä»£è¡¨å¼€å‘è€…è§‚ç‚¹**ï¼Œå…¶å‡†ç¡®æ€§ã€é€‚å½“æ€§ç”±ä½¿ç”¨è€… **è‡ªè¡Œåˆ¤æ–­å¹¶æ‰¿æ‹…å…¨éƒ¨è´£ä»»**ã€‚  
   - ğŸ¤– AI å¯èƒ½äº§ç”Ÿé”™è¯¯ã€åè§æˆ–ä¸é€‚å®œå†…å®¹ï¼Œå¼€å‘è€… **ä¸å¯¹æ­¤å¼•å‘çš„ä»»ä½•åæœè´Ÿè´£**ã€‚  

2. **âš¡ å°å·é£é™©è­¦ç¤º**  
   - è‹¥å› ä½¿ç”¨æœ¬è½¯ä»¶å¯¼è‡´ QQ å·è¢«å°(å¦‚ï¼šQç¾¤ä¸­å‘é€ç¦æ¼«å¤©å ‚çš„æœ¬å­è¢«ä¸¾æŠ¥ç­‰)ï¼Œå¼€å‘è€… **æ¦‚ä¸è´Ÿè´£**ï¼  
   - ğŸ­ï¼ˆéè¦ä½œæ­»ï¼Ÿå¼€å‘è€…ä¹Ÿæ‹¦ä¸ä½ï¼å·²æä¾›ç§»é™¤å±é™©æŒ‡ä»¤é€‰é¡¹ï¼Œè¯·è‡ªè¡Œæ‰¿æ‹…é£é™©ï¼ï¼‰  

3. **ğŸš« ä½¿ç”¨é™åˆ¶**  
   - ğŸ“œ åŸºäº MIT åè®®å¼€æºï¼Œä¿ç•™åŸå§‹ç‰ˆæƒï¼Œå¯è‡ªç”±ä¿®æ”¹ã€‚  
   - âŒ **ä¸¥ç¦** ç”¨äºå¼•æµã€è‰²æƒ…ã€é”®æ”¿ã€æ¶ˆæ¯è½°ç‚¸ç­‰éæ³•ç”¨é€”ï¼  

4. **ğŸ’– æ ¸å¿ƒç›®æ ‡**  
   - æ‰“é€  DeepSeek API æ¥å£ï¼Œå®ç° **çˆ±ä¸½ä¸** + **æ»¡åˆ†é—®é¢˜è§£ç­”** ğŸ§  + æä¾› **æƒ…ç»ªä»·å€¼** ğŸ’–ï¼  

5. **ğŸ” éšç§ä¸å®‰å…¨**  
   - é¡¹ç›®å¼€æºé€æ˜ï¼Œ**ç»ä¸éæ³•è·å–ç”¨æˆ·éšç§**ã€‚  
   - âš ï¸ è‹¥ç§è‡ªé‡æ–°æ‰“åŒ…åˆ†å‘å¯¼è‡´èŠå¤©è®°å½•æ³„éœ²ï¼Œ**å¼€å‘è€…æ¦‚ä¸è´Ÿè´£**ï¼Œè¯·ä»[Githubå®˜ç½‘ä¸‹è½½](https://github.com/yandifei/ArisuQQChatAI)ï¼  

6. **ğŸ”§ å¯†é’¥å®‰å…¨è¯´æ˜**  
   - å·²å¦¥å–„è®¾è®¡ API å¯†é’¥å­˜å‚¨æœºåˆ¶ ğŸ”’ã€‚  
   - å¦‚å› ä¸ªäººæ“ä½œå¯¼è‡´å¯†é’¥æ³„éœ²ï¼Œè¯· **ç«‹å³åˆ é™¤å¹¶æ›´æ¢** ğŸ”‘ï¼  
   - æœ¬é¡¹ç›® **ä¸æ‰¿æ‹…** ç”¨æˆ·æ“ä½œå¤±è¯¯å¼•å‘çš„å¯†é’¥æ³„éœ²è´£ä»»ã€‚ 